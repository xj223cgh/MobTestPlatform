/* empty css                  *//* empty css                   */import{a as e,E as t}from"./el-tab-pane-bfdb8e67.js";import{E as a,a as l}from"./el-checkbox-14904d7f.js";import{E as n}from"./el-card-e67e9701.js";import{E as s,a as o}from"./el-descriptions-item-e887b571.js";import{E as d}from"./el-overlay-71eaae9d.js";import{g as r,a as i,b as c,c as u,d as p,e as h,f,s as v,h as m,r as g,i as y,u as _,j as b}from"./testTask-0eaceca7.js";import{E as k,a as C}from"./el-input-89ea148f.js";import{g as N,E as x}from"./device-8c76a684.js";import{E as w,a as E}from"./el-radio-group-56c94ad0.js";import{E as D}from"./el-pagination-aa6134da.js";import{E as V}from"./el-tag-418c1d1c.js";import{a as K,E as S}from"./el-select-b829cea3.js";import"./el-scrollbar-0528a0c4.js";import{E as $,a as B}from"./el-table-column-5340bcc8.js";import"./el-tooltip-4ed993c7.js";import{E as j}from"./el-progress-d3d69bd1.js";import{E as T}from"./el-date-picker-panel-44b3f9b1.js";import{E as z,a as A}from"./el-col-538f99f5.js";import{z as L,B as M,b1 as U,c as O,d as I,e as R,h as q,_ as F,x as Y,A as H,W as P,aQ as G,D as W,F as J,aS as Q,L as X,aq as Z,f as ee,M as te,b2 as ae,r as le,aM as ne,a0 as se,o as oe,b3 as de,J as re,w as ie,K as ce,b4 as ue,C as pe,a3 as he,y as fe,E as ve,N as me,b5 as ge,aA as ye,aj as _e,ah as be,b as ke,b6 as Ce,a4 as Ne,b7 as xe,ag as we,ak as Ee,a9 as De,I as Ve,U as Ke,S as Se,aR as $e,H as Be,al as je,a1 as Te,b8 as ze,an as Ae,a5 as Le,a6 as Me,g as Ue,a7 as Oe,ap as Ie,b9 as Re,O as qe,P as Fe,G as Ye,ba as He,bb as Pe,n as Ge,ao as We,l as Je,aB as Qe,j as Xe,bc as Ze,bd as et,be as tt,a_ as at,a$ as lt,i as nt,aC as st,aD as ot,k as dt}from"./index-cd351671.js";import{g as rt}from"./testCase-4120f24e.js";import{d as it}from"./dayjs.min-fd58e32d.js";import{_ as ct}from"./_plugin-vue_export-helper-1b428a4d.js";import{v as ut}from"./directive-1c779a20.js";import{E as pt}from"./index-67c82193.js";import"./raf-907dd12a.js";import"./strings-b003b1cc.js";import"./omit-7b0b3aa9.js";import"./refs-9112775b.js";import"./castArray-824cd328.js";import"./index-6e95e63b.js";const ht=L({name:"ImgEmpty"});var ft=F(L({...ht,setup(e){const t=M("empty"),a=U();return(e,l)=>(O(),I("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[R("defs",null,[R("linearGradient",{id:`linearGradient-1-${q(a)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[R("stop",{"stop-color":`var(${q(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),R("stop",{"stop-color":`var(${q(t).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),R("linearGradient",{id:`linearGradient-2-${q(a)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[R("stop",{"stop-color":`var(${q(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),R("stop",{"stop-color":`var(${q(t).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),R("rect",{id:`path-3-${q(a)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),R("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[R("g",{transform:"translate(-1268.000000, -535.000000)"},[R("g",{transform:"translate(1268.000000, 535.000000)"},[R("path",{d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${q(t).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),R("polygon",{fill:`var(${q(t).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),R("g",{transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[R("polygon",{fill:`var(${q(t).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),R("polygon",{fill:`var(${q(t).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),R("rect",{fill:`url(#linearGradient-1-${q(a)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),R("polygon",{fill:`var(${q(t).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),R("rect",{fill:`url(#linearGradient-2-${q(a)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),R("g",{transform:"translate(53.000000, 45.000000)"},[R("use",{fill:`var(${q(t).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${q(a)}`},null,8,["fill","xlink:href"]),R("polygon",{fill:`var(${q(t).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${q(a)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),R("polygon",{fill:`var(${q(t).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}}),[["__file","img-empty.vue"]]);const vt=Y({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),mt=L({name:"ElEmpty"});const gt=te(F(L({...mt,props:vt,setup(e){const t=e,{t:a}=H(),l=M("empty"),n=P(()=>t.description||a("el.table.emptyText")),s=P(()=>({width:G(t.imageSize)}));return(e,t)=>(O(),I("div",{class:J(q(l).b())},[R("div",{class:J(q(l).e("image")),style:Q(q(s))},[e.image?(O(),I("img",{key:0,src:e.image,ondragstart:"return false"},null,8,["src"])):W(e.$slots,"image",{key:1},()=>[ee(ft)])],6),R("div",{class:J(q(l).e("description"))},[e.$slots.description?W(e.$slots,"description",{key:0}):(O(),I("p",{key:1},X(q(n)),1))],2),e.$slots.default?(O(),I("div",{key:0,class:J(q(l).e("bottom"))},[W(e.$slots,"default")],2)):Z("v-if",!0)],2))}}),[["__file","empty.vue"]])),yt=Y({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:ae,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),_t=L({name:"ElText"});const bt=te(F(L({..._t,props:yt,setup(e){const t=e,a=le(),l=ne(),n=M("text"),s=P(()=>[n.b(),n.m(t.type),n.m(l.value),n.is("truncated",t.truncated),n.is("line-clamp",!se(t.lineClamp))]),o=()=>{var e,l,n,s,o,d,r;if(ue().title)return;let i=!1;const c=(null==(e=a.value)?void 0:e.textContent)||"";if(t.truncated){const e=null==(l=a.value)?void 0:l.offsetWidth,t=null==(n=a.value)?void 0:n.scrollWidth;e&&t&&t>e&&(i=!0)}else if(!se(t.lineClamp)){const e=null==(s=a.value)?void 0:s.offsetHeight,t=null==(o=a.value)?void 0:o.scrollHeight;e&&t&&t>e&&(i=!0)}i?null==(d=a.value)||d.setAttribute("title",c):null==(r=a.value)||r.removeAttribute("title")};return oe(o),de(o),(e,t)=>(O(),re(ce(e.tag),{ref_key:"textRef",ref:a,class:J(q(s)),style:Q({"-webkit-line-clamp":e.lineClamp})},{default:ie(()=>[W(e.$slots,"default")]),_:3},8,["class","style"]))}}),[["__file","text.vue"]])),kt=L({name:"ElTimeline",setup(e,{slots:t}){const a=M("timeline");return pe("timeline",t),()=>he("ul",{class:[a.b()]},[W(t,"default")])}}),Ct=Y({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:fe},hollow:Boolean}),Nt=L({name:"ElTimelineItem"});var xt=F(L({...Nt,props:Ct,setup(e){const t=e,a=M("timeline-item"),l=P(()=>[a.e("node"),a.em("node",t.size||""),a.em("node",t.type||""),a.is("hollow",t.hollow)]);return(e,t)=>(O(),I("li",{class:J([q(a).b(),{[q(a).e("center")]:e.center}])},[R("div",{class:J(q(a).e("tail"))},null,2),e.$slots.dot?Z("v-if",!0):(O(),I("div",{key:0,class:J(q(l)),style:Q({backgroundColor:e.color})},[e.icon?(O(),re(q(ve),{key:0,class:J(q(a).e("icon"))},{default:ie(()=>[(O(),re(ce(e.icon)))]),_:1},8,["class"])):Z("v-if",!0)],6)),e.$slots.dot?(O(),I("div",{key:1,class:J(q(a).e("dot"))},[W(e.$slots,"dot")],2)):Z("v-if",!0),R("div",{class:J(q(a).e("wrapper"))},[e.hideTimestamp||"top"!==e.placement?Z("v-if",!0):(O(),I("div",{key:0,class:J([q(a).e("timestamp"),q(a).is("top")])},X(e.timestamp),3)),R("div",{class:J(q(a).e("content"))},[W(e.$slots,"default")],2),e.hideTimestamp||"bottom"!==e.placement?Z("v-if",!0):(O(),I("div",{key:1,class:J([q(a).e("timestamp"),q(a).is("bottom")])},X(e.timestamp),3))],2)],2))}}),[["__file","timeline-item.vue"]]);const wt=te(kt,{TimelineItem:xt}),Et=me(xt),Dt="$treeNodeId",Vt=function(e,t){t&&!t[Dt]&&Object.defineProperty(t,Dt,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},Kt=(e,t)=>null==t?void 0:t[e||Dt],St=(e,t,a)=>{const l=e.value.currentNode;a();const n=e.value.currentNode;l!==n&&t("current-change",n?n.data:null,n)},$t=e=>{let t=!0,a=!0,l=!0;for(let n=0,s=e.length;n<s;n++){const s=e[n];(!0!==s.checked||s.indeterminate)&&(t=!1,s.disabled||(l=!1)),(!1!==s.checked||s.indeterminate)&&(a=!1)}return{all:t,none:a,allWithoutDisable:l,half:!t&&!a}},Bt=function(e){if(0===e.childNodes.length||e.loading)return;const{all:t,none:a,half:l}=$t(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):l?(e.checked=!1,e.indeterminate=!0):a&&(e.checked=!1,e.indeterminate=!1);const n=e.parent;n&&0!==n.level&&(e.store.checkStrictly||Bt(n))},jt=function(e,t){const a=e.store.props,l=e.data||{},n=a[t];if(Ce(n))return n(l,e);if(Ne(n))return l[n];if(se(n)){const e=l[t];return se(e)?"":e}},Tt=function(e,t){e.forEach(e=>{e.canFocus=t,Tt(e.childNodes,t)})};let zt=0;class At{constructor(e){this.isLeafByUser=void 0,this.isLeaf=void 0,this.id=zt++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const t in e)ge(e,t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){var e;const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const a=t.props;if(a&&void 0!==a.isLeaf){const e=jt(this,"isLeaf");ye(e)&&(this.isLeafByUser=e)}if(!0!==t.lazy&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&!this.isLeafByUser&&this.expand(),_e(this.data)||Vt(this,this.data),!this.data)return;const l=t.defaultExpandedKeys,n=t.key;n&&!be(this.key)&&l&&l.includes(this.key)&&this.expand(null,t.autoExpandParent),n&&void 0!==t.currentNodeKey&&this.key===t.currentNodeKey&&(t.currentNode&&(t.currentNode.isCurrent=!1),t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),1!==this.level&&!0!==(null==(e=this.parent)?void 0:e.expanded)||(this.canFocus=!0)}setData(e){let t;_e(e)||Vt(this,e),this.data=e,this.childNodes=[],t=0===this.level&&_e(this.data)?this.data:jt(this,"children")||[];for(let a=0,l=t.length;a<l;a++)this.insertChild({data:t[a]})}get label(){return jt(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return jt(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}get previousSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}contains(e,t=!0){return(this.childNodes||[]).some(a=>a===e||t&&a.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,t,a){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof At)){if(!a){const a=this.getChildren(!0);(null==a?void 0:a.includes(e.data))||(se(t)||t<0?null==a||a.push(e.data):null==a||a.splice(t,0,e.data))}Object.assign(e,{parent:this,store:this.store}),(e=ke(new At(e)))instanceof At&&e.initialize()}e.level=this.level+1,se(t)||t<0?this.childNodes.push(e):this.childNodes.splice(t,0,e),this.updateLeafState()}insertBefore(e,t){let a;t&&(a=this.childNodes.indexOf(t)),this.insertChild(e,a)}insertAfter(e,t){let a;t&&(a=this.childNodes.indexOf(t),-1!==a&&(a+=1)),this.insertChild(e,a)}removeChild(e){const t=this.getChildren()||[],a=t.indexOf(e.data);a>-1&&t.splice(a,1);const l=this.childNodes.indexOf(e);l>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(l,1)),this.updateLeafState()}removeChildByData(e){const t=this.childNodes.find(t=>t.data===e);t&&this.removeChild(t)}expand(e,t){const a=()=>{if(t){let e=this.parent;for(;e&&e.level>0;)e.expanded=!0,e=e.parent}this.expanded=!0,e&&e(),Tt(this.childNodes,!0)};this.shouldLoadData()?this.loadData(e=>{_e(e)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Bt(this),a())}):a()}doCreateChildren(e,t={}){e.forEach(e=>{this.insertChild(Object.assign({data:e},t),void 0,!0)})}collapse(){this.expanded=!1,Tt(this.childNodes,!1)}shouldLoadData(){return Boolean(!0===this.store.lazy&&this.store.load&&!this.loaded)}updateLeafState(){if(!0===this.store.lazy&&!0!==this.loaded&&void 0!==this.isLeafByUser)return void(this.isLeaf=this.isLeafByUser);const e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}setChecked(e,t,a,l){if(this.indeterminate="half"===e,this.checked=!0===e,this.store.checkStrictly)return;if(!this.shouldLoadData()||this.store.checkDescendants){const{all:a,allWithoutDisable:n}=$t(this.childNodes);this.isLeaf||a||!n||(this.checked=!1,e=!1);const s=()=>{if(t){const a=this.childNodes;for(let o=0,d=a.length;o<d;o++){const n=a[o];l=l||!1!==e;const s=n.disabled?n.checked:l;n.setChecked(s,t,!0,l)}const{half:n,all:s}=$t(a);s||(this.checked=s,this.indeterminate=n)}};if(this.shouldLoadData())return void this.loadData(()=>{s(),Bt(this)},{checked:!1!==e});s()}const n=this.parent;n&&0!==n.level&&(a||Bt(n))}getChildren(e=!1){if(0===this.level)return this.data;const t=this.data;if(!t)return null;const a=this.store.props;let l="children";return a&&(l=a.children||"children"),se(t[l])&&(t[l]=null),e&&!t[l]&&(t[l]=[]),t[l]}updateChildren(){const e=this.getChildren()||[],t=this.childNodes.map(e=>e.data),a={},l=[];e.forEach((e,n)=>{const s=e[Dt];!!s&&t.some(e=>(null==e?void 0:e[Dt])===s)?a[s]={index:n,data:e}:l.push({index:n,data:e})}),this.store.lazy||t.forEach(e=>{a[null==e?void 0:e[Dt]]||this.removeChildByData(e)}),l.forEach(({index:e,data:t})=>{this.insertChild({data:t},e)}),this.updateLeafState()}loadData(e,t={}){if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(t).length)e&&e.call(this);else{this.loading=!0;const a=a=>{this.childNodes=[],this.doCreateChildren(a,t),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,a)},l=()=>{this.loading=!1};this.store.load(this,a,l)}}eachNode(e){const t=[this];for(;t.length;){const a=t.shift();t.unshift(...a.childNodes),e(a)}}reInitChecked(){this.store.checkStrictly||Bt(this)}}class Lt{constructor(e){this.lazy=!1,this.checkStrictly=!1,this.autoExpandParent=!1,this.defaultExpandAll=!1,this.checkDescendants=!1,this.currentNode=null,this.currentNodeKey=null;for(const t in e)ge(e,t)&&(this[t]=e[t]);this.nodesMap={}}initialize(){if(this.root=new At({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){(0,this.load)(this.root,e=>{this.root.doCreateChildren(e),this._initDefaultCheckedNodes()},xe)}else this._initDefaultCheckedNodes()}filter(e){const t=this.filterNodeMethod,a=this.lazy,l=async function(n){const s=n.root?n.root.childNodes:n.childNodes;for(const[a,o]of s.entries())o.visible=!!(null==t?void 0:t.call(o,e,o.data,o)),a%80==0&&a>0&&await De(),await l(o);if(!n.visible&&s.length){let e=!0;e=!s.some(e=>e.visible),n.root?n.root.visible=!1===e:n.visible=!1===e}e&&n.visible&&!n.isLeaf&&(a&&!n.loaded||n.expand())};l(this)}setData(e){e!==this.root.data?(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(e){if(e instanceof At)return e;const t=we(e)?Kt(this.key,e):e;return this.nodesMap[t]||null}insertBefore(e,t){var a;const l=this.getNode(t);null==(a=l.parent)||a.insertBefore({data:e},l)}insertAfter(e,t){var a;const l=this.getNode(t);null==(a=l.parent)||a.insertAfter({data:e},l)}remove(e){const t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}append(e,t){const a=Ee(t)?this.root:this.getNode(t);a&&a.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],t=this.nodesMap;e.forEach(e=>{const a=t[e];a&&a.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){const t=this.defaultCheckedKeys||[];!be(e.key)&&t.includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const t=this.key;if(e&&e.data)if(t){const t=e.key;be(t)||(this.nodesMap[t]=e)}else this.nodesMap[e.id]=e}deregisterNode(e){this.key&&e&&e.data&&(e.childNodes.forEach(e=>{this.deregisterNode(e)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,t=!1){const a=[],l=function(n){(n.root?n.root.childNodes:n.childNodes).forEach(n=>{(n.checked||t&&n.indeterminate)&&(!e||e&&n.isLeaf)&&a.push(n.data),l(n)})};return l(this),a}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(e=>(e||{})[this.key])}getHalfCheckedNodes(){const e=[],t=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(a=>{a.indeterminate&&e.push(a.data),t(a)})};return t(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],t=this.nodesMap;for(const a in t)ge(t,a)&&e.push(t[a]);return e}updateChildren(e,t){const a=this.nodesMap[e];if(!a)return;const l=a.childNodes;for(let n=l.length-1;n>=0;n--){const e=l[n];this.remove(e.data)}for(let n=0,s=t.length;n<s;n++){const e=t[n];this.append(e,a.data)}}_setCheckedKeys(e,t=!1,a){const l=this._getAllNodes().sort((e,t)=>e.level-t.level),n=Object.create(null),s=Object.keys(a);l.forEach(e=>e.setChecked(!1,!1));const o=t=>{t.childNodes.forEach(t=>{var a;n[t.data[e]]=!0,(null==(a=t.childNodes)?void 0:a.length)&&o(t)})};for(let d=0,r=l.length;d<r;d++){const a=l[d],r=a.data[e].toString();if(s.includes(r)){if(a.childNodes.length&&o(a),a.isLeaf||this.checkStrictly)a.setChecked(!0,!1);else if(a.setChecked(!0,!0),t){a.setChecked(!1,!1);const e=function(t){t.childNodes.forEach(t=>{t.isLeaf||t.setChecked(!1,!1),e(t)})};e(a)}}else a.checked&&!n[r]&&a.setChecked(!1,!1)}}setCheckedNodes(e,t=!1){const a=this.key,l={};e.forEach(e=>{l[(e||{})[a]]=!0}),this._setCheckedKeys(a,t,l)}setCheckedKeys(e,t=!1){this.defaultCheckedKeys=e;const a=this.key,l={};e.forEach(e=>{l[e]=!0}),this._setCheckedKeys(a,t,l)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(e=>{const t=this.getNode(e);t&&t.expand(null,this.autoExpandParent)})}setChecked(e,t,a){const l=this.getNode(e);l&&l.setChecked(!!t,a)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,t=!0){var a;const l=e[this.key],n=this.nodesMap[l];this.setCurrentNode(n),t&&this.currentNode&&this.currentNode.level>1&&(null==(a=this.currentNode.parent)||a.expand(null,!0))}setCurrentNodeKey(e,t=!0){var a;if(this.currentNodeKey=e,Ee(e))return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);const l=this.getNode(e);l&&(this.setCurrentNode(l),t&&this.currentNode&&this.currentNode.level>1&&(null==(a=this.currentNode.parent)||a.expand(null,!0)))}}const Mt="RootTree",Ut="NodeInstance",Ot="TreeNodeMap";var It=F(L({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=M("tree"),a=Ve(Ut),l=Ve(Mt);return()=>{const n=e.node,{data:s,store:o}=n;return e.renderContent?e.renderContent(he,{_self:a,node:n,data:s,store:o}):W(l.ctx.slots,"default",{node:n,data:s},()=>[he(bt,{tag:"span",truncated:!0,class:t.be("node","label")},()=>[n.label])])}}}),[["__file","tree-node-content.vue"]]);function Rt(e){const t=Ve(Ot,null),a={treeNodeExpand:t=>{var a;e.node!==t&&(null==(a=e.node)||a.collapse())},children:[]};return t&&t.children.push(a),pe(Ot,a),{broadcastExpanded:t=>{if(e.accordion)for(const e of a.children)e.treeNodeExpand(t)}}}const qt=Symbol("dragEvents");const Ft=L({name:"ElTreeNode",components:{ElCollapseTransition:pt,ElCheckbox:a,NodeContent:It,ElIcon:ve,Loading:$e},props:{node:{type:At,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:["node-expand"],setup(e,t){const a=M("tree"),{broadcastExpanded:l}=Rt(e),n=Ve(Mt),s=le(!1),o=le(!1),d=le(),r=le(),i=le(),c=Ve(qt),u=Be();pe(Ut,u),n||je("Tree","Can not find node's tree."),e.node.expanded&&(s.value=!0,o.value=!0);const p=n.props.props.children||"children";Te(()=>{var t;const a=null==(t=e.node.data)?void 0:t[p];return a&&[...a]},()=>{e.node.updateChildren()}),Te(()=>e.node.indeterminate,t=>{f(e.node.checked,t)}),Te(()=>e.node.checked,t=>{f(t,e.node.indeterminate)}),Te(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),Te(()=>e.node.expanded,e=>{De(()=>s.value=e),e&&(o.value=!0)});const h=e=>Kt(n.props.nodeKey,e.data),f=(t,a)=>{d.value===t&&r.value===a||n.ctx.emit("check-change",e.node.data,t,a),d.value=t,r.value=a},v=()=>{e.node.isLeaf||(s.value?(n.ctx.emit("node-collapse",e.node.data,e.node,u),e.node.collapse()):e.node.expand(()=>{t.emit("node-expand",e.node.data,e.node,u)}))},m=t=>{e.node.setChecked(t,!(null==n?void 0:n.props.checkStrictly)),De(()=>{const t=n.store.value;n.ctx.emit("check",e.node.data,{checkedNodes:t.getCheckedNodes(),checkedKeys:t.getCheckedKeys(),halfCheckedNodes:t.getHalfCheckedNodes(),halfCheckedKeys:t.getHalfCheckedKeys()})})};return{ns:a,node$:i,tree:n,expanded:s,childNodeRendered:o,oldChecked:d,oldIndeterminate:r,getNodeKey:h,getNodeClass:t=>{const a=e.props.class;if(!a)return{};let l;if(Ce(a)){const{data:e}=t;l=a(e,t)}else l=a;return Ne(l)?{[l]:!0}:l},handleSelectChange:f,handleClick:t=>{St(n.store,n.ctx.emit,()=>{var t;if(null==(t=null==n?void 0:n.props)?void 0:t.nodeKey){const t=h(e.node);n.store.value.setCurrentNodeKey(t)}else n.store.value.setCurrentNode(e.node)}),n.currentNode.value=e.node,n.props.expandOnClickNode&&v(),(n.props.checkOnClickNode||e.node.isLeaf&&n.props.checkOnClickLeaf&&e.showCheckbox)&&!e.node.disabled&&m(!e.node.checked),n.ctx.emit("node-click",e.node.data,e.node,u,t)},handleContextMenu:t=>{var a;(null==(a=n.instance.vnode.props)?void 0:a.onNodeContextmenu)&&(t.stopPropagation(),t.preventDefault()),n.ctx.emit("node-contextmenu",t,e.node.data,e.node,u)},handleExpandIconClick:v,handleCheckChange:m,handleChildNodeExpand:(e,t,a)=>{l(t),n.ctx.emit("node-expand",e,t,a)},handleDragStart:t=>{n.props.draggable&&c.treeNodeDragStart({event:t,treeNode:e})},handleDragOver:t=>{t.preventDefault(),n.props.draggable&&c.treeNodeDragOver({event:t,treeNode:{$el:i.value,node:e.node}})},handleDrop:e=>{e.preventDefault()},handleDragEnd:e=>{n.props.draggable&&c.treeNodeDragEnd(e)},CaretRight:ze}}});const Yt={"check-change":(e,t,a)=>e&&ye(t)&&ye(a),"current-change":(e,t)=>!0,"node-click":(e,t,a,l)=>e&&t&&l instanceof Event,"node-contextmenu":(e,t,a,l)=>e instanceof Event&&t&&a,"node-collapse":(e,t,a)=>e&&t,"node-expand":(e,t,a)=>e&&t,check:(e,t)=>e&&t,"node-drag-start":(e,t)=>e&&t,"node-drag-end":(e,t,a,l)=>e&&l,"node-drop":(e,t,a,l)=>e&&t&&l,"node-drag-leave":(e,t,a)=>e&&t&&a,"node-drag-enter":(e,t,a)=>e&&t&&a,"node-drag-over":(e,t,a)=>e&&t&&a};const Ht=te(F(L({name:"ElTree",components:{ElTreeNode:F(Ft,[["render",function(e,t,a,l,n,s){const o=Ae("el-icon"),d=Ae("el-checkbox"),r=Ae("loading"),i=Ae("node-content"),c=Ae("el-tree-node"),u=Ae("el-collapse-transition");return Le((O(),I("div",{ref:"node$",class:J([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:Ue(e.handleClick,["stop"]),onContextmenu:e.handleContextMenu,onDragstart:Ue(e.handleDragStart,["stop"]),onDragover:Ue(e.handleDragOver,["stop"]),onDragend:Ue(e.handleDragEnd,["stop"]),onDrop:Ue(e.handleDrop,["stop"])},[R("div",{class:J(e.ns.be("node","content")),style:Q({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(O(),re(o,{key:0,class:J([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:Ue(e.handleExpandIconClick,["stop"])},{default:ie(()=>[(O(),re(ce(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):Z("v-if",!0),e.showCheckbox?(O(),re(d,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:Ue(()=>{},["stop"]),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):Z("v-if",!0),e.node.loading?(O(),re(o,{key:2,class:J([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:ie(()=>[ee(r)]),_:1},8,["class"])):Z("v-if",!0),ee(i,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),ee(u,null,{default:ie(()=>[!e.renderAfterExpand||e.childNodeRendered?Le((O(),I("div",{key:0,class:J(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded,onClick:Ue(()=>{},["stop"])},[(O(!0),I(Oe,null,Ie(e.node.childNodes,t=>(O(),re(c,{key:e.getNodeKey(t),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:t,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded","onClick"])),[[Me,e.expanded]]):Z("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[Me,e.node.visible]])}],["__file","tree-node.vue"]])},props:{data:{type:Ye(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:{type:Ye(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:Ye(Function)},allowDrop:{type:Ye(Function)},props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:Boolean,highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:fe}},emits:Yt,setup(e,t){const{t:a}=H(),l=M("tree"),n=le(new Lt({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));n.value.initialize();const s=le(n.value.root),o=le(null),d=le(null),r=le(null),{broadcastExpanded:i}=Rt(e),{dragState:c}=function({props:e,ctx:t,el$:a,dropIndicator$:l,store:n}){const s=M("tree"),o=le({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return pe(qt,{treeNodeDragStart:({event:a,treeNode:l})=>{if(a.dataTransfer){if(Ce(e.allowDrag)&&!e.allowDrag(l.node))return a.preventDefault(),!1;a.dataTransfer.effectAllowed="move";try{a.dataTransfer.setData("text/plain","")}catch(n){}o.value.draggingNode=l,t.emit("node-drag-start",l.node,a)}},treeNodeDragOver:({event:n,treeNode:d})=>{if(!n.dataTransfer)return;const r=d,i=o.value.dropNode;i&&i.node.id!==r.node.id&&Ke(i.$el,s.is("drop-inner"));const c=o.value.draggingNode;if(!c||!r)return;let u=!0,p=!0,h=!0,f=!0;Ce(e.allowDrop)&&(u=e.allowDrop(c.node,r.node,"prev"),f=p=e.allowDrop(c.node,r.node,"inner"),h=e.allowDrop(c.node,r.node,"next")),n.dataTransfer.dropEffect=p||u||h?"move":"none",(u||p||h)&&(null==i?void 0:i.node.id)!==r.node.id&&(i&&t.emit("node-drag-leave",c.node,i.node,n),t.emit("node-drag-enter",c.node,r.node,n)),o.value.dropNode=u||p||h?r:null,r.node.nextSibling===c.node&&(h=!1),r.node.previousSibling===c.node&&(u=!1),r.node.contains(c.node,!1)&&(p=!1),(c.node===r.node||c.node.contains(r.node))&&(u=!1,p=!1,h=!1);const v=r.$el,m=v.querySelector(`.${s.be("node","content")}`).getBoundingClientRect(),g=a.value.getBoundingClientRect(),y=a.value.scrollTop;let _;const b=u?p?.25:h?.45:1:Number.NEGATIVE_INFINITY,k=h?p?.75:u?.55:0:Number.POSITIVE_INFINITY;let C=-9999;const N=n.clientY-m.top;_=N<m.height*b?"before":N>m.height*k?"after":p?"inner":"none";const x=v.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),w=l.value;"before"===_?C=x.top-g.top+y:"after"===_&&(C=x.bottom-g.top+y),w.style.top=`${C}px`,w.style.left=x.right-g.left+"px","inner"===_?Se(v,s.is("drop-inner")):Ke(v,s.is("drop-inner")),o.value.showDropIndicator="before"===_||"after"===_,o.value.allowDrop=o.value.showDropIndicator||f,o.value.dropType=_,t.emit("node-drag-over",c.node,r.node,n)},treeNodeDragEnd:e=>{var a,l;const{draggingNode:d,dropType:r,dropNode:i}=o.value;if(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move"),(null==d?void 0:d.node.data)&&i){const o={data:d.node.data};"none"!==r&&d.node.remove(),"before"===r?null==(a=i.node.parent)||a.insertBefore(o,i.node):"after"===r?null==(l=i.node.parent)||l.insertAfter(o,i.node):"inner"===r&&i.node.insertChild(o),"none"!==r&&(n.value.registerNode(o),n.value.key&&d.node.eachNode(e=>{var t;null==(t=n.value.nodesMap[e.data[n.value.key]])||t.setChecked(e.checked,!n.value.checkStrictly)})),Ke(i.$el,s.is("drop-inner")),t.emit("node-drag-end",d.node,i.node,r,e),"none"!==r&&t.emit("node-drop",d.node,i.node,r,e)}d&&!i&&t.emit("node-drag-end",d.node,null,r,e),o.value.showDropIndicator=!1,o.value.draggingNode=null,o.value.dropNode=null,o.value.allowDrop=!0}}),{dragState:o}}({props:e,ctx:t,el$:d,dropIndicator$:r,store:n});!function({el$:e},t){const a=M("tree");function l(e,a){var l,n;const s=t.value.getNode(e[a].dataset.key);return s.canFocus&&s.visible&&((null==(l=s.parent)?void 0:l.expanded)||0===(null==(n=s.parent)?void 0:n.level))}oe(()=>{n()}),de(()=>{Array.from(e.value.querySelectorAll("input[type=checkbox]")).forEach(e=>{e.setAttribute("tabindex","-1")})}),Re(e,"keydown",t=>{const n=t.target;if(!n.className.includes(a.b("node")))return;const s=qe(t),o=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`)),d=o.indexOf(n);let r;if([Fe.up,Fe.down].includes(s)){if(t.preventDefault(),s===Fe.up){r=-1===d?0:0!==d?d-1:o.length-1;const e=r;for(;!l(o,r);){if(r--,r===e){r=-1;break}r<0&&(r=o.length-1)}}else{r=-1===d?0:d<o.length-1?d+1:0;const e=r;for(;!l(o,r);){if(r++,r===e){r=-1;break}r>=o.length&&(r=0)}}-1!==r&&o[r].focus()}[Fe.left,Fe.right].includes(s)&&(t.preventDefault(),n.click());const i=n.querySelector('[type="checkbox"]');[Fe.enter,Fe.numpadEnter,Fe.space].includes(s)&&i&&(t.preventDefault(),i.click())});const n=()=>{var t;if(!e.value)return;const l=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`));Array.from(e.value.querySelectorAll("input[type=checkbox]")).forEach(e=>{e.setAttribute("tabindex","-1")});const n=e.value.querySelectorAll(`.${a.is("checked")}[role=treeitem]`);n.length?n[0].setAttribute("tabindex","0"):null==(t=l[0])||t.setAttribute("tabindex","0")}}({el$:d},n);const u=Be(),p=P(()=>{let e=null==u?void 0:u.parent;for(;e;){if("ElTreeSelect"===e.type.name)return!0;e=e.parent}return!1}),h=P(()=>{const{childNodes:e}=s.value;return(!e||0===e.length||e.every(({visible:e})=>!e))&&!p.value});Te(()=>e.currentNodeKey,e=>{n.value.setCurrentNodeKey(null!=e?e:null)}),Te(()=>e.defaultCheckedKeys,(e,t)=>{He(e,t)||n.value.setDefaultCheckedKey(null!=e?e:[])}),Te(()=>e.defaultExpandedKeys,e=>{n.value.setDefaultExpandedKeys(null!=e?e:[])}),Te(()=>e.data,e=>{n.value.setData(e)},{deep:!0}),Te(()=>e.checkStrictly,e=>{n.value.checkStrictly=e});const f=t=>{if(!e.nodeKey)throw new Error(`[Tree] nodeKey is required in ${t}`)},v=()=>{const e=n.value.getCurrentNode();return e?e.data:null};return pe(Mt,{ctx:t,props:e,store:n,root:s,currentNode:o,instance:u}),pe(Pe,void 0),{ns:l,store:n,root:s,currentNode:o,dragState:c,el$:d,dropIndicator$:r,isEmpty:h,filter:t=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");n.value.filter(t)},getNodeKey:t=>Kt(e.nodeKey,t.data),getNodePath:e=>{f("getNodePath");const t=n.value.getNode(e);if(!t)return[];const a=[t.data];let l=t.parent;for(;l&&l!==s.value;)a.push(l.data),l=l.parent;return a.reverse()},getCheckedNodes:(e,t)=>n.value.getCheckedNodes(e,t),getCheckedKeys:e=>n.value.getCheckedKeys(e),getCurrentNode:v,getCurrentKey:()=>{f("getCurrentKey");const t=v();return t?t[e.nodeKey]:null},setCheckedNodes:(e,t)=>{f("setCheckedNodes"),n.value.setCheckedNodes(e,t)},setCheckedKeys:(e,t)=>{f("setCheckedKeys"),n.value.setCheckedKeys(e,t)},setChecked:(e,t,a)=>{n.value.setChecked(e,t,a)},getHalfCheckedNodes:()=>n.value.getHalfCheckedNodes(),getHalfCheckedKeys:()=>n.value.getHalfCheckedKeys(),setCurrentNode:(e,a=!0)=>{f("setCurrentNode"),St(n,t.emit,()=>{i(e),n.value.setUserCurrentNode(e,a)})},setCurrentKey:(e=null,a=!0)=>{f("setCurrentKey"),St(n,t.emit,()=>{i(),n.value.setCurrentNodeKey(e,a)})},t:a,getNode:e=>n.value.getNode(e),remove:e=>{n.value.remove(e)},append:(e,t)=>{n.value.append(e,t)},insertBefore:(e,t)=>{n.value.insertBefore(e,t)},insertAfter:(e,t)=>{n.value.insertAfter(e,t)},handleNodeExpand:(e,a,l)=>{i(a),t.emit("node-expand",e,a,l)},updateKeyChildren:(e,t)=>{f("updateKeyChild"),n.value.updateChildren(e,t)}}}}),[["render",function(e,t,a,l,n,s){const o=Ae("el-tree-node");return O(),I("div",{ref:"el$",class:J([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner","inner"===e.dragState.dropType),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(O(!0),I(Oe,null,Ie(e.root.childNodes,t=>(O(),re(o,{key:e.getNodeKey(t),node:t,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(O(),I("div",{key:0,class:J(e.ns.e("empty-block"))},[W(e.$slots,"empty",{},()=>{var t;return[R("span",{class:J(e.ns.e("empty-text"))},X(null!=(t=e.emptyText)?t:e.t("el.tree.emptyText")),3)]})],2)):Z("v-if",!0),Le(R("div",{ref:"dropIndicator$",class:J(e.ns.e("drop-indicator"))},null,2),[[Me,e.dragState.showDropIndicator]])],2)}],["__file","tree.vue"]])),Pt={class:"test-task-management"},Gt={class:"page-header"},Wt={class:"header-actions"},Jt={class:"stats-section"},Qt={class:"stat-card"},Xt={class:"stat-icon total"},Zt={class:"stat-content"},ea={class:"stat-number"},ta={class:"stat-card"},aa={class:"stat-icon running"},la={class:"stat-content"},na={class:"stat-number"},sa={class:"stat-card"},oa={class:"stat-icon completed"},da={class:"stat-content"},ra={class:"stat-number"},ia={class:"stat-card"},ca={class:"stat-icon failed"},ua={class:"stat-content"},pa={class:"stat-number"},ha={class:"search-section"},fa={class:"table-section"},va={key:0,class:"batch-actions"},ma={class:"pagination"},ga={class:"dialog-footer"},ya={key:0,class:"task-detail"},_a=["href"],ba={key:1},ka={class:"logs-container"},Ca={class:"log-content"},Na={class:"results-container"},xa={class:"mindmap-container"},wa={class:"filter-controls"},Ea={class:"stats-summary"},Da={class:"stat-value"},Va={class:"stat-value"},Ka={class:"stat-value"},Sa={class:"stat-value"},$a={class:"stat-value"},Ba={class:"stat-value"},ja={class:"chart-section"},Ta={class:"card-header"},za={class:"chart-container"},Aa={class:"chart-placeholder"},La={class:"mindmap-content"},Ma={key:0,class:"loading-container"},Ua={key:1,class:"empty-state"},Oa={key:2,class:"mindmap-container"},Ia={class:"node-name"},Ra=ct({__name:"TestTaskManagement",setup(L){const M=le(!1),U=le(!1),F=le(!1),Y=le(!1),H=le(!1),G=le(""),W=le(),te=le(null),ae=le([]),ne=le("basic"),se=le(null),de=le(!1),ce=le({x:0,y:0}),ue=le(null),pe=le(!1),he=le(null),fe=le(null),me=le(["passed","failed","blocked","not_applicable"]),ge=le({passed:{type:"passed",label:"通过",count:0},failed:{type:"failed",label:"失败",count:0},blocked:{type:"blocked",label:"阻塞",count:0},not_applicable:{type:"not_applicable",label:"不适用",count:0},pass_rate:0}),ye=P(()=>{const e={};for(const[t,a]of Object.entries(ge.value))"pass_rate"!==t&&(null==a?void 0:a.count)>0&&(e[t]=a);return e}),_e=P(()=>{let e=0;const t=a=>a&&a.length?(a.forEach(a=>{!a.status||a.children&&0!==a.children.length||e++,a.children&&a.children.length>0&&t(a.children)}),e):0;return he.value&&t(he.value),e}),be=ke({total:0,running:0,completed:0,failed:0}),Ce=ke({name:"",suite_id:"",status:"",priority:"",dateRange:[]}),Ne=ke({id:null,name:"",description:"",suite_id:"",document_link:"",version_info:"",planned_start_time:"",planned_end_time:"",notes:"",priority:"medium",device_ids:[],case_ids:[],environment:"testing",concurrency:1,timeout:300,retry_count:0,notification_types:[]}),xe={name:[{required:!0,message:"请输入任务名称",trigger:"blur"}],suite_id:[{required:!0,message:"请选择测试套件",trigger:"change"}],device_ids:[{required:!0,message:"请选择设备",trigger:"change"}],case_ids:[{required:!0,message:"请选择测试用例",trigger:"change"}],environment:[{required:!0,message:"请选择执行环境",trigger:"change"}]},we=le([]),Ee=le([]),De=le([]),Ve=le([]),Ke=le([]),Se=le([]),$e=ke({page:1,size:10,total:0}),Be=async()=>{M.value=!0;try{const e={page:$e.page,size:$e.size,...Ce};Ce.dateRange&&2===Ce.dateRange.length&&(e.start_date=Ce.dateRange[0],e.end_date=Ce.dateRange[1]);const t=await r(e);t.success?(we.value=t.data.list,$e.total=t.data.total):Ge.error(t.message||"获取测试任务列表失败")}catch(e){console.error("获取测试任务列表失败:",e),Ge.error("获取测试任务列表失败")}finally{M.value=!1}},je=e=>{const t=Se.value.find(t=>t.id===e);return t?t.name:"-"},Te=(e,t)=>{if(!e&&!t)return"-";return`${e?Bt(e):"未设置"} 至 ${t?Bt(t):"未设置"}`},ze=()=>{if(!he.value)return[];const e=(t,a)=>{if(!t||!t.children||!t.children.length)return t;const l=t.children.filter(t=>!!(!t.status||a.includes(t.status)||t.children&&t.children.length)&&(t.children&&t.children.length>0&&(t.children=e(t,a).children),!t.status||a.includes(t.status)||t.children&&t.children.length>0));return{...t,children:l}};fe.value=e(he.value,me.value)},Ae=async()=>{if(te.value){pe.value=!0;try{try{const e=await f(te.value.id);if(e.success)return he.value=e.data,Ye(e.data),ze(),void(pe.value=!1)}catch(e){console.log("API调用失败，使用模拟数据:",e)}setTimeout(()=>{he.value={name:te.value.name,children:[{name:"功能模块1",children:[{name:"用例1-1",status:"passed"},{name:"用例1-2",status:"failed"},{name:"用例1-3",status:"blocked"}]},{name:"功能模块2",children:[{name:"用例2-1",status:"passed"},{name:"用例2-2",status:"not_applicable"}]}]},ge.value.passed.count=Math.floor(50*Math.random()),ge.value.failed.count=Math.floor(10*Math.random()),ge.value.blocked.count=Math.floor(5*Math.random()),ge.value.not_applicable.count=Math.floor(3*Math.random());const e=ge.value.passed.count+ge.value.failed.count;ge.value.pass_rate=e>0?Math.round(ge.value.passed.count/e*100):0,ze(),pe.value=!1},1e3)}catch(t){console.error("获取思维导图失败:",t),pe.value=!1}}},Me=async()=>{if(te.value&&he.value)try{const e=JSON.stringify(he.value,null,2),t=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download=`${te.value.name}_思维导图.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a),Ge.success("导出成功")}catch(e){console.error("导出思维导图失败:",e),Ge.error("导出失败")}},Re=e=>{ue.value=e},qe=(e,t)=>{e.preventDefault(),ue.value=t,ce.value={x:e.pageX,y:e.pageY},de.value=!0},Fe=e=>{ue.value&&(((e,t)=>{e.status=t,Ye(he.value),ze(),Ge.success("状态更新成功")})(ue.value,e),de.value=!1)};oe(()=>{document.addEventListener("click",e=>{const t=document.querySelector(".context-menu");!t||t.contains(e.target)||e.target.closest(".mindmap-node")||(de.value=!1)}),document.addEventListener("keydown",e=>{"Escape"===e.key&&(de.value=!1)})});const Ye=e=>{ge.value={passed:{type:"passed",label:"通过",count:0},failed:{type:"failed",label:"失败",count:0},blocked:{type:"blocked",label:"阻塞",count:0},not_applicable:{type:"not_applicable",label:"不适用",count:0},pass_rate:0};const t=e=>{if(!e||!e.length)return 0;let a=0;return e.forEach(e=>{!e.status||e.children&&0!==e.children.length||(ge.value[e.status].count++,a++),e.children&&e.children.length>0&&(a+=t(e.children))}),a},a=t(e),l=ge.value.passed.count;ge.value.pass_rate=a>0?Math.round(l/a*100):0},He=e=>{const t=_e.value;return t>0?Math.round(e/t*100):0},Pe=()=>{Ye(he.value),Ge.success("统计信息已刷新")},ct=async()=>{try{const e=await i();e.success&&Object.assign(be,e.data)}catch(e){console.error("获取测试任务统计失败:",e)}},pt=()=>{$e.page=1,Be()},ht=()=>{Object.assign(Ce,{name:"",suite_id:"",status:"",priority:"",dateRange:[]}),pt()},ft=()=>{H.value=!1,G.value="创建测试任务",F.value=!0,Ct()},vt=()=>{Ge.info("批量创建功能开发中...")},mt=e=>{ae.value=e},yt=async()=>{if(0!==ae.value.length)try{const e=ae.value.map(e=>e.id),t=await u(e);t.success?(Ge.success("批量启动成功"),Be(),ct()):Ge.error(t.message||"批量启动失败")}catch(e){console.error("批量启动失败:",e),Ge.error("批量启动失败")}else Ge.warning("请选择要启动的任务")},_t=async()=>{if(0!==ae.value.length)try{const e=ae.value.map(e=>e.id),t=await p(e);t.success?(Ge.success("批量停止成功"),Be(),ct()):Ge.error(t.message||"批量停止失败")}catch(e){console.error("批量停止失败:",e),Ge.error("批量停止失败")}else Ge.warning("请选择要停止的任务")},bt=()=>{0!==ae.value.length?We.confirm(`确定要删除选中的 ${ae.value.length} 个测试任务吗？此操作不可恢复。`,"确认批量删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{const e=ae.value.map(e=>e.id),t=await h(e);t.success?(Ge.success("批量删除成功"),Be(),ct()):Ge.error(t.message||"批量删除失败")}catch(e){console.error("批量删除失败:",e),Ge.error("批量删除失败")}}):Ge.warning("请选择要删除的任务")},kt=async()=>{if(W.value)try{await W.value.validate(),U.value=!0;const e={id:Ne.id,name:Ne.name,description:Ne.description,suite_id:Ne.suite_id,document_link:Ne.document_link,version_info:Ne.version_info,planned_start_time:Ne.planned_start_time,planned_end_time:Ne.planned_end_time,notes:Ne.notes,priority:Ne.priority,device_ids:Ne.device_ids,case_ids:Ne.case_ids,environment:Ne.environment,concurrency:Ne.concurrency,timeout:Ne.timeout,retry_count:Ne.retry_count,notification_types:Ne.notification_types};let t;t=H.value?await _(Ne.id,e):await b(e),t.success?(Ge.success(H.value?"更新成功":"创建成功"),F.value=!1,Be(),ct()):Ge.error(t.message||"操作失败")}catch(e){console.error("提交失败:",e),Ge.error("操作失败")}finally{U.value=!1}},Ct=()=>{Object.assign(Ne,{id:null,name:"",description:"",suite_id:"",document_link:"",version_info:"",planned_start_time:"",planned_end_time:"",notes:"",priority:"medium",device_ids:[],case_ids:[],environment:"testing",concurrency:1,timeout:300,retry_count:0,notification_types:[]}),Object.assign(Ne,{id:null,name:"",description:"",priority:"medium",device_ids:[],case_ids:[],environment:"testing",concurrency:1,timeout:300,retry_count:0,notification_types:[]}),W.value&&W.value.resetFields()},Nt=e=>{$e.size=e,$e.page=1,Be()},xt=e=>{$e.page=e,Be()},Dt=e=>({pending:"待执行",running:"执行中",completed:"已完成",failed:"失败",cancelled:"已取消"}[e]||e),Vt=e=>({pending:"info",running:"primary",completed:"success",failed:"danger",cancelled:"warning"}[e]||"info"),Kt=e=>({high:"高",medium:"中",low:"低"}[e]||e),St=e=>({high:"danger",medium:"warning",low:"success"}[e]||"info"),$t=e=>({completed:"success",failed:"exception",running:"",pending:"",cancelled:"warning"}[e]||""),Bt=e=>e?it(e).format("YYYY-MM-DD HH:mm:ss"):"-";return oe(()=>{Be(),ct(),(async()=>{try{const e=await N({page:1,size:1e3});e.success&&(Ee.value=e.data.list)}catch(e){console.error("获取设备列表失败:",e)}})(),(async()=>{try{const e=await rt({page:1,size:1e3});e.success&&(De.value=e.data.list)}catch(e){console.error("获取测试用例列表失败:",e)}})(),(async()=>{try{const e=await c();e.success&&(Se.value=e.data.suite_options||[])}catch(e){console.error("获取测试套件选项失败:",e)}})()}),(r,i)=>{const c=ve,u=Je,p=A,h=z,f=dt,_=C,b=K,N=S,L=T,P=k,le=B,oe=V,ue=j,ke=$,Ye=D,rt=w,it=E,Ct=x,jt=a,Tt=l,zt=d,At=s,Lt=o,Mt=e,Ut=Et,Ot=wt,It=n,Rt=gt,qt=Ht,Ft=t,Yt=ut;return O(),I("div",Pt,[R("div",Gt,[i[34]||(i[34]=R("div",{class:"header-content"},[R("h1",null,"测试任务管理"),R("p",{class:"description"},"创建和管理测试任务")],-1)),R("div",Wt,[ee(u,{type:"primary",onClick:ft},{default:ie(()=>[ee(c,null,{default:ie(()=>[ee(q(Qe))]),_:1}),i[32]||(i[32]=Xe(" 创建任务 ",-1))]),_:1}),ee(u,{onClick:vt},{default:ie(()=>[ee(c,null,{default:ie(()=>[ee(q(Ze))]),_:1}),i[33]||(i[33]=Xe(" 批量创建 ",-1))]),_:1})])]),R("div",Jt,[ee(h,{gutter:20},{default:ie(()=>[ee(p,{span:6},{default:ie(()=>[R("div",Qt,[R("div",Xt,[ee(c,null,{default:ie(()=>[ee(q(et))]),_:1})]),R("div",Zt,[R("div",ea,X(be.total),1),i[35]||(i[35]=R("div",{class:"stat-label"},"任务总数",-1))])])]),_:1}),ee(p,{span:6},{default:ie(()=>[R("div",ta,[R("div",aa,[ee(c,null,{default:ie(()=>[ee(q(tt))]),_:1})]),R("div",la,[R("div",na,X(be.running),1),i[36]||(i[36]=R("div",{class:"stat-label"},"执行中",-1))])])]),_:1}),ee(p,{span:6},{default:ie(()=>[R("div",sa,[R("div",oa,[ee(c,null,{default:ie(()=>[ee(q(at))]),_:1})]),R("div",da,[R("div",ra,X(be.completed),1),i[37]||(i[37]=R("div",{class:"stat-label"},"已完成",-1))])])]),_:1}),ee(p,{span:6},{default:ie(()=>[R("div",ia,[R("div",ca,[ee(c,null,{default:ie(()=>[ee(q(lt))]),_:1})]),R("div",ua,[R("div",pa,X(be.failed),1),i[38]||(i[38]=R("div",{class:"stat-label"},"失败",-1))])])]),_:1})]),_:1})]),R("div",ha,[ee(P,{model:Ce,inline:""},{default:ie(()=>[ee(_,{label:"任务名称"},{default:ie(()=>[ee(f,{modelValue:Ce.name,"onUpdate:modelValue":i[0]||(i[0]=e=>Ce.name=e),placeholder:"请输入任务名称",clearable:"",onClear:pt,onKeyup:nt(pt,["enter"])},null,8,["modelValue"])]),_:1}),ee(_,{label:"所属套件"},{default:ie(()=>[ee(N,{modelValue:Ce.suite_id,"onUpdate:modelValue":i[1]||(i[1]=e=>Ce.suite_id=e),placeholder:"选择测试套件",clearable:"",onClear:pt,onChange:pt,filterable:""},{default:ie(()=>[(O(!0),I(Oe,null,Ie(Se.value,e=>(O(),re(b,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),ee(_,{label:"状态"},{default:ie(()=>[ee(N,{modelValue:Ce.status,"onUpdate:modelValue":i[2]||(i[2]=e=>Ce.status=e),placeholder:"请选择状态",clearable:"",onClear:pt,onChange:pt},{default:ie(()=>[ee(b,{label:"待执行",value:"pending"}),ee(b,{label:"执行中",value:"running"}),ee(b,{label:"已完成",value:"completed"}),ee(b,{label:"失败",value:"failed"}),ee(b,{label:"已取消",value:"cancelled"})]),_:1},8,["modelValue"])]),_:1}),ee(_,{label:"优先级"},{default:ie(()=>[ee(N,{modelValue:Ce.priority,"onUpdate:modelValue":i[3]||(i[3]=e=>Ce.priority=e),placeholder:"请选择优先级",clearable:"",onClear:pt,onChange:pt},{default:ie(()=>[ee(b,{label:"高",value:"high"}),ee(b,{label:"中",value:"medium"}),ee(b,{label:"低",value:"low"})]),_:1},8,["modelValue"])]),_:1}),ee(_,{label:"创建时间"},{default:ie(()=>[ee(L,{modelValue:Ce.dateRange,"onUpdate:modelValue":i[4]||(i[4]=e=>Ce.dateRange=e),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:pt},null,8,["modelValue"])]),_:1}),ee(_,null,{default:ie(()=>[ee(u,{type:"primary",onClick:pt},{default:ie(()=>[ee(c,null,{default:ie(()=>[ee(q(st))]),_:1}),i[39]||(i[39]=Xe(" 搜索 ",-1))]),_:1}),ee(u,{onClick:ht},{default:ie(()=>[ee(c,null,{default:ie(()=>[ee(q(ot))]),_:1}),i[40]||(i[40]=Xe(" 重置 ",-1))]),_:1})]),_:1})]),_:1},8,["model"])]),R("div",fa,[Le((O(),re(ke,{data:we.value,stripe:"",border:"",style:{width:"100%"},onSelectionChange:mt},{default:ie(()=>[ee(le,{type:"selection",width:"55"}),ee(le,{prop:"id",label:"ID",width:"80"}),ee(le,{prop:"name",label:"任务名称","min-width":"200","show-overflow-tooltip":""}),ee(le,{prop:"status",label:"状态",width:"100"},{default:ie(({row:e})=>[ee(oe,{type:Vt(e.status)},{default:ie(()=>[Xe(X(Dt(e.status)),1)]),_:2},1032,["type"])]),_:1}),ee(le,{prop:"priority",label:"优先级",width:"80"},{default:ie(({row:e})=>[ee(oe,{type:St(e.priority)},{default:ie(()=>[Xe(X(Kt(e.priority)),1)]),_:2},1032,["type"])]),_:1}),ee(le,{prop:"progress",label:"进度",width:"120"},{default:ie(({row:e})=>[ee(ue,{percentage:e.progress,status:$t(e.status),"stroke-width":6},null,8,["percentage","status"])]),_:1}),ee(le,{prop:"device_count",label:"设备数量",width:"100"}),ee(le,{prop:"case_count",label:"用例数量",width:"100"}),ee(le,{prop:"creator",label:"创建者",width:"100"}),ee(le,{prop:"created_at",label:"创建时间",width:"160"},{default:ie(({row:e})=>[Xe(X(Bt(e.created_at)),1)]),_:1}),ee(le,{prop:"updated_at",label:"更新时间",width:"160"},{default:ie(({row:e})=>[Xe(X(Bt(e.updated_at)),1)]),_:1}),ee(le,{label:"操作",width:"300",fixed:"right"},{default:ie(({row:e})=>[ee(u,{type:"primary",size:"small",onClick:t=>(async e=>{te.value=e,Y.value=!0,ne.value="basic";try{Ve.value=[],Ke.value=[],setTimeout(()=>{"mindmap"===ne.value&&Ae()},500)}catch(t){console.error("获取任务详情失败:",t)}})(e)},{default:ie(()=>[...i[41]||(i[41]=[Xe(" 查看 ",-1)])]),_:1},8,["onClick"]),"pending"===e.status?(O(),re(u,{key:0,type:"success",size:"small",onClick:t=>(async e=>{try{const t=await v(e.id);t.success?(Ge.success("任务启动成功"),Be(),ct()):Ge.error(t.message||"启动任务失败")}catch(t){console.error("启动任务失败:",t),Ge.error("启动任务失败")}})(e)},{default:ie(()=>[...i[42]||(i[42]=[Xe(" 启动 ",-1)])]),_:1},8,["onClick"])):Z("",!0),"running"===e.status?(O(),re(u,{key:1,type:"warning",size:"small",onClick:t=>(async e=>{try{const t=await m(e.id);t.success?(Ge.success("任务停止成功"),Be(),ct()):Ge.error(t.message||"停止任务失败")}catch(t){console.error("停止任务失败:",t),Ge.error("停止任务失败")}})(e)},{default:ie(()=>[...i[43]||(i[43]=[Xe(" 停止 ",-1)])]),_:1},8,["onClick"])):Z("",!0),"completed"===e.status||"failed"===e.status?(O(),re(u,{key:2,type:"info",size:"small",onClick:t=>(async e=>{try{const t=await g(e.id);t.success?(Ge.success("任务重新执行成功"),Be(),ct()):Ge.error(t.message||"重新执行任务失败")}catch(t){console.error("重新执行任务失败:",t),Ge.error("重新执行任务失败")}})(e)},{default:ie(()=>[...i[44]||(i[44]=[Xe(" 重新执行 ",-1)])]),_:1},8,["onClick"])):Z("",!0),ee(u,{type:"warning",size:"small",onClick:t=>(e=>{H.value=!0,G.value="编辑测试任务",F.value=!0,Object.assign(Ne,{id:e.id,name:e.name,description:e.description,suite_id:e.suite_id||"",document_link:e.document_link||"",version_info:e.version_info||"",planned_start_time:e.planned_start_time||"",planned_end_time:e.planned_end_time||"",notes:e.notes||"",priority:e.priority,device_ids:e.device_ids,case_ids:e.case_ids,environment:e.environment,concurrency:e.concurrency,timeout:e.timeout,retry_count:e.retry_count,notification_types:e.notification_types||[]})})(e),disabled:"running"===e.status},{default:ie(()=>[...i[45]||(i[45]=[Xe(" 编辑 ",-1)])]),_:1},8,["onClick","disabled"]),ee(u,{type:"danger",size:"small",onClick:t=>(e=>{We.confirm(`确定要删除测试任务 "${e.name}" 吗？此操作不可恢复。`,"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{const t=await y(e.id);t.success?(Ge.success("删除成功"),Be(),ct()):Ge.error(t.message||"删除失败")}catch(t){console.error("删除测试任务失败:",t),Ge.error("删除失败")}})})(e),disabled:"running"===e.status},{default:ie(()=>[...i[46]||(i[46]=[Xe(" 删除 ",-1)])]),_:1},8,["onClick","disabled"])]),_:1})]),_:1},8,["data"])),[[Yt,M.value]]),ae.value.length>0?(O(),I("div",va,[R("span",null,"已选择 "+X(ae.value.length)+" 项",1),ee(u,{type:"success",onClick:yt},{default:ie(()=>[...i[47]||(i[47]=[Xe(" 批量启动 ",-1)])]),_:1}),ee(u,{type:"warning",onClick:_t},{default:ie(()=>[...i[48]||(i[48]=[Xe(" 批量停止 ",-1)])]),_:1}),ee(u,{type:"danger",onClick:bt},{default:ie(()=>[...i[49]||(i[49]=[Xe(" 批量删除 ",-1)])]),_:1})])):Z("",!0),R("div",ma,[ee(Ye,{"current-page":"pagination.page","page-size":"pagination.size",total:$e.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Nt,onCurrentChange:xt},null,8,["total"])])]),ee(zt,{modelValue:F.value,"onUpdate:modelValue":i[22]||(i[22]=e=>F.value=e),title:G.value,width:"900px","close-on-click-modal":!1},{footer:ie(()=>[R("span",ga,[ee(u,{onClick:i[21]||(i[21]=e=>F.value=!1)},{default:ie(()=>[...i[56]||(i[56]=[Xe("取消",-1)])]),_:1}),ee(u,{type:"primary",loading:U.value,onClick:kt},{default:ie(()=>[...i[57]||(i[57]=[Xe(" 确定 ",-1)])]),_:1},8,["loading"])])]),default:ie(()=>[ee(P,{ref_key:"taskFormRef",ref:W,model:Ne,rules:xe,"label-width":"100px"},{default:ie(()=>[ee(_,{label:"任务名称",prop:"name"},{default:ie(()=>[ee(f,{modelValue:Ne.name,"onUpdate:modelValue":i[5]||(i[5]=e=>Ne.name=e),placeholder:"请输入任务名称"},null,8,["modelValue"])]),_:1}),ee(_,{label:"测试套件",prop:"suite_id"},{default:ie(()=>[ee(N,{modelValue:Ne.suite_id,"onUpdate:modelValue":i[6]||(i[6]=e=>Ne.suite_id=e),placeholder:"请选择测试套件",style:{width:"100%"}},{default:ie(()=>[(O(!0),I(Oe,null,Ie(Se.value,e=>(O(),re(b,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),ee(_,{label:"任务描述",prop:"description"},{default:ie(()=>[ee(f,{modelValue:Ne.description,"onUpdate:modelValue":i[7]||(i[7]=e=>Ne.description=e),type:"textarea",rows:3,placeholder:"请输入任务描述"},null,8,["modelValue"])]),_:1}),ee(_,{label:"文档链接",prop:"document_link"},{default:ie(()=>[ee(f,{modelValue:Ne.document_link,"onUpdate:modelValue":i[8]||(i[8]=e=>Ne.document_link=e),placeholder:"请输入相关文档链接"},null,8,["modelValue"])]),_:1}),ee(_,{label:"版本信息",prop:"version_info"},{default:ie(()=>[ee(f,{modelValue:Ne.version_info,"onUpdate:modelValue":i[9]||(i[9]=e=>Ne.version_info=e),placeholder:"请输入版本信息"},null,8,["modelValue"])]),_:1}),ee(_,{label:"计划开始时间",prop:"planned_start_time"},{default:ie(()=>[ee(L,{modelValue:Ne.planned_start_time,"onUpdate:modelValue":i[10]||(i[10]=e=>Ne.planned_start_time=e),type:"datetime",placeholder:"选择日期时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),ee(_,{label:"计划结束时间",prop:"planned_end_time"},{default:ie(()=>[ee(L,{modelValue:Ne.planned_end_time,"onUpdate:modelValue":i[11]||(i[11]=e=>Ne.planned_end_time=e),type:"datetime",placeholder:"选择日期时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),ee(_,{label:"备注",prop:"notes"},{default:ie(()=>[ee(f,{modelValue:Ne.notes,"onUpdate:modelValue":i[12]||(i[12]=e=>Ne.notes=e),type:"textarea",rows:2,placeholder:"请输入备注信息"},null,8,["modelValue"])]),_:1}),ee(_,{label:"优先级",prop:"priority"},{default:ie(()=>[ee(it,{modelValue:Ne.priority,"onUpdate:modelValue":i[13]||(i[13]=e=>Ne.priority=e)},{default:ie(()=>[ee(rt,{label:"high"},{default:ie(()=>[...i[50]||(i[50]=[Xe("高",-1)])]),_:1}),ee(rt,{label:"medium"},{default:ie(()=>[...i[51]||(i[51]=[Xe("中",-1)])]),_:1}),ee(rt,{label:"low"},{default:ie(()=>[...i[52]||(i[52]=[Xe("低",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),ee(_,{label:"选择设备",prop:"device_ids"},{default:ie(()=>[ee(N,{modelValue:Ne.device_ids,"onUpdate:modelValue":i[14]||(i[14]=e=>Ne.device_ids=e),placeholder:"请选择设备",multiple:"",style:{width:"100%"}},{default:ie(()=>[(O(!0),I(Oe,null,Ie(Ee.value,e=>(O(),re(b,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),ee(_,{label:"测试用例",prop:"case_ids"},{default:ie(()=>[ee(N,{modelValue:Ne.case_ids,"onUpdate:modelValue":i[15]||(i[15]=e=>Ne.case_ids=e),placeholder:"请选择测试用例",multiple:"",style:{width:"100%"}},{default:ie(()=>[(O(!0),I(Oe,null,Ie(De.value,e=>(O(),re(b,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),ee(_,{label:"执行环境",prop:"environment"},{default:ie(()=>[ee(N,{modelValue:Ne.environment,"onUpdate:modelValue":i[16]||(i[16]=e=>Ne.environment=e),placeholder:"请选择执行环境"},{default:ie(()=>[ee(b,{label:"开发环境",value:"development"}),ee(b,{label:"测试环境",value:"testing"}),ee(b,{label:"预生产环境",value:"staging"}),ee(b,{label:"生产环境",value:"production"})]),_:1},8,["modelValue"])]),_:1}),ee(_,{label:"执行配置"},{default:ie(()=>[ee(h,{gutter:20},{default:ie(()=>[ee(p,{span:12},{default:ie(()=>[ee(_,{label:"并发数",prop:"concurrency"},{default:ie(()=>[ee(Ct,{modelValue:Ne.concurrency,"onUpdate:modelValue":i[17]||(i[17]=e=>Ne.concurrency=e),min:1,max:10,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),ee(p,{span:12},{default:ie(()=>[ee(_,{label:"超时时间(秒)",prop:"timeout"},{default:ie(()=>[ee(Ct,{modelValue:Ne.timeout,"onUpdate:modelValue":i[18]||(i[18]=e=>Ne.timeout=e),min:60,max:3600,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),ee(_,{label:"失败重试",prop:"retry_count"},{default:ie(()=>[ee(Ct,{modelValue:Ne.retry_count,"onUpdate:modelValue":i[19]||(i[19]=e=>Ne.retry_count=e),min:0,max:5,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),ee(_,{label:"通知设置"},{default:ie(()=>[ee(Tt,{modelValue:Ne.notification_types,"onUpdate:modelValue":i[20]||(i[20]=e=>Ne.notification_types=e)},{default:ie(()=>[ee(jt,{label:"email"},{default:ie(()=>[...i[53]||(i[53]=[Xe("邮件通知",-1)])]),_:1}),ee(jt,{label:"webhook"},{default:ie(()=>[...i[54]||(i[54]=[Xe("Webhook通知",-1)])]),_:1}),ee(jt,{label:"sms"},{default:ie(()=>[...i[55]||(i[55]=[Xe("短信通知",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),ee(zt,{modelValue:Y.value,"onUpdate:modelValue":i[31]||(i[31]=e=>Y.value=e),title:"任务详情",width:"1000px"},{default:ie(()=>[te.value?(O(),I("div",ya,[ee(Ft,{modelValue:ne.value,"onUpdate:modelValue":i[30]||(i[30]=e=>ne.value=e)},{default:ie(()=>[ee(Mt,{label:"基本信息",name:"basic"},{default:ie(()=>[ee(Lt,{column:2,border:""},{default:ie(()=>[ee(At,{label:"任务ID"},{default:ie(()=>[Xe(X(te.value.id),1)]),_:1}),ee(At,{label:"任务名称"},{default:ie(()=>[Xe(X(te.value.name),1)]),_:1}),ee(At,{label:"测试套件"},{default:ie(()=>[Xe(X(je(te.value.suite_id)),1)]),_:1}),ee(At,{label:"文档链接"},{default:ie(()=>[te.value.document_link?(O(),I("a",{key:0,href:te.value.document_link,target:"_blank"},X(te.value.document_link),9,_a)):(O(),I("span",ba,"-"))]),_:1}),ee(At,{label:"版本信息"},{default:ie(()=>[Xe(X(te.value.version_info||"-"),1)]),_:1}),ee(At,{label:"计划时间"},{default:ie(()=>[Xe(X(Te(te.value.planned_start_time,te.value.planned_end_time)),1)]),_:1}),ee(At,{label:"备注",span:2},{default:ie(()=>[Xe(X(te.value.notes||"-"),1)]),_:1}),ee(At,{label:"状态"},{default:ie(()=>[ee(oe,{type:Vt(te.value.status)},{default:ie(()=>[Xe(X(Dt(te.value.status)),1)]),_:1},8,["type"])]),_:1}),ee(At,{label:"优先级"},{default:ie(()=>[ee(oe,{type:St(te.value.priority)},{default:ie(()=>[Xe(X(Kt(te.value.priority)),1)]),_:1},8,["type"])]),_:1}),ee(At,{label:"进度"},{default:ie(()=>[ee(ue,{percentage:te.value.progress,status:$t(te.value.status)},null,8,["percentage","status"])]),_:1}),ee(At,{label:"执行环境"},{default:ie(()=>[Xe(X(te.value.environment),1)]),_:1}),ee(At,{label:"创建者"},{default:ie(()=>[Xe(X(te.value.creator),1)]),_:1}),ee(At,{label:"创建时间"},{default:ie(()=>[Xe(X(Bt(te.value.created_at)),1)]),_:1}),ee(At,{label:"开始时间"},{default:ie(()=>[Xe(X(Bt(te.value.started_at)),1)]),_:1}),ee(At,{label:"结束时间"},{default:ie(()=>[Xe(X(Bt(te.value.ended_at)),1)]),_:1}),ee(At,{label:"设备数量"},{default:ie(()=>[Xe(X(te.value.device_count),1)]),_:1}),ee(At,{label:"用例数量"},{default:ie(()=>[Xe(X(te.value.case_count),1)]),_:1}),ee(At,{label:"通过数量"},{default:ie(()=>[Xe(X(te.value.passed_count),1)]),_:1}),ee(At,{label:"失败数量"},{default:ie(()=>[Xe(X(te.value.failed_count),1)]),_:1}),ee(At,{label:"阻塞数量"},{default:ie(()=>[Xe(X(te.value.blocked_count||0),1)]),_:1}),ee(At,{label:"不适用数量"},{default:ie(()=>[Xe(X(te.value.not_applicable_count||0),1)]),_:1}),ee(At,{label:"描述",span:2},{default:ie(()=>[Xe(X(te.value.description||"-"),1)]),_:1})]),_:1})]),_:1}),ee(Mt,{label:"执行日志",name:"logs"},{default:ie(()=>[R("div",ka,[ee(Ot,null,{default:ie(()=>[(O(!0),I(Oe,null,Ie(Ve.value,e=>{return O(),re(Ut,{key:e.id,timestamp:Bt(e.created_at),type:(t=e.level,{error:"danger",warning:"warning",info:"primary",debug:"info"}[t]||"info")},{default:ie(()=>[R("div",Ca,[R("strong",null,X(e.level.toUpperCase()),1),R("p",null,X(e.message),1)])]),_:2},1032,["timestamp","type"]);var t}),128))]),_:1})])]),_:1}),ee(Mt,{label:"执行结果",name:"results"},{default:ie(()=>[R("div",Na,[ee(ke,{data:Ke.value,stripe:"",border:""},{default:ie(()=>[ee(le,{prop:"device_name",label:"设备名称"}),ee(le,{prop:"case_name",label:"用例名称"}),ee(le,{prop:"status",label:"状态"},{default:ie(({row:e})=>[ee(oe,{type:Vt(e.status)},{default:ie(()=>[Xe(X(Dt(e.status)),1)]),_:2},1032,["type"])]),_:1}),ee(le,{prop:"duration",label:"执行时长"}),ee(le,{prop:"error_message",label:"错误信息","show-overflow-tooltip":""}),ee(le,{label:"操作"},{default:ie(({row:e})=>[ee(u,{type:"primary",size:"small",onClick:e=>{Ge.info("查看结果详情功能开发中...")}},{default:ie(()=>[...i[58]||(i[58]=[Xe(" 查看详情 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])])]),_:1}),ee(Mt,{label:"思维导图视图",name:"mindmap",onTabClick:Ae},{default:ie(()=>[R("div",xa,[R("div",wa,[ee(Tt,{modelValue:me.value,"onUpdate:modelValue":i[23]||(i[23]=e=>me.value=e),onChange:ze},{default:ie(()=>[ee(jt,{label:"passed"},{default:ie(()=>[...i[59]||(i[59]=[Xe("通过",-1)])]),_:1}),ee(jt,{label:"failed"},{default:ie(()=>[...i[60]||(i[60]=[Xe("失败",-1)])]),_:1}),ee(jt,{label:"blocked"},{default:ie(()=>[...i[61]||(i[61]=[Xe("阻塞",-1)])]),_:1}),ee(jt,{label:"not_applicable"},{default:ie(()=>[...i[62]||(i[62]=[Xe("不适用",-1)])]),_:1})]),_:1},8,["modelValue"]),ee(u,{type:"primary",size:"small",onClick:Ae},{default:ie(()=>[...i[63]||(i[63]=[Xe("刷新",-1)])]),_:1}),ee(u,{size:"small",onClick:Me},{default:ie(()=>[...i[64]||(i[64]=[Xe("导出",-1)])]),_:1})]),R("div",Ea,[ee(It,{shadow:"hover",class:"stat-card stat-passed"},{default:ie(()=>{var e;return[R("div",Da,X((null==(e=ge.value.passed)?void 0:e.count)||0),1),i[65]||(i[65]=R("div",{class:"stat-label"},"通过",-1))]}),_:1}),ee(It,{shadow:"hover",class:"stat-card stat-failed"},{default:ie(()=>{var e;return[R("div",Va,X((null==(e=ge.value.failed)?void 0:e.count)||0),1),i[66]||(i[66]=R("div",{class:"stat-label"},"失败",-1))]}),_:1}),ee(It,{shadow:"hover",class:"stat-card stat-blocked"},{default:ie(()=>{var e;return[R("div",Ka,X((null==(e=ge.value.blocked)?void 0:e.count)||0),1),i[67]||(i[67]=R("div",{class:"stat-label"},"阻塞",-1))]}),_:1}),ee(It,{shadow:"hover",class:"stat-card stat-not-applicable"},{default:ie(()=>{var e;return[R("div",Sa,X((null==(e=ge.value.not_applicable)?void 0:e.count)||0),1),i[68]||(i[68]=R("div",{class:"stat-label"},"不适用",-1))]}),_:1}),ee(It,{shadow:"hover",class:"stat-card stat-total"},{default:ie(()=>[R("div",$a,X(q(_e)),1),i[69]||(i[69]=R("div",{class:"stat-label"},"总用例数",-1))]),_:1}),ee(It,{shadow:"hover",class:"stat-card stat-pass-rate"},{default:ie(()=>[R("div",Ba,X(ge.value.pass_rate||0)+"%",1),i[70]||(i[70]=R("div",{class:"stat-label"},"通过率",-1))]),_:1})]),R("div",ja,[ee(It,{shadow:"hover",class:"chart-card"},{header:ie(()=>[R("div",Ta,[i[72]||(i[72]=R("span",null,"测试结果分布",-1)),ee(u,{size:"small",onClick:Pe},{default:ie(()=>[...i[71]||(i[71]=[Xe("刷新",-1)])]),_:1})])]),default:ie(()=>[R("div",za,[R("div",Aa,[(O(!0),I(Oe,null,Ie(q(ye),(e,t)=>{return O(),re(ue,{key:t,percentage:He(null==e?void 0:e.count),format:()=>`${null==e?void 0:e.label}: ${null==e?void 0:e.count}`,color:(a=t,{passed:"#67c23a",failed:"#f56c6c",blocked:"#e6a23c",not_applicable:"#909399"}[a]||"#409eff"),class:"progress-bar"},null,8,["percentage","format","color"]);var a}),128))])])]),_:1})]),R("div",La,[pe.value?(O(),I("div",Ma,[ee(c,{class:"is-loading"},{default:ie(()=>[ee(q(M))]),_:1}),i[73]||(i[73]=R("span",null,"加载思维导图中...",-1))])):he.value?(O(),I("div",Oa,[ee(qt,{ref_key:"mindmapTreeRef",ref:se,data:fe.value,props:{label:"name",children:"children"},"highlight-current":!0,"default-expand-all":!0,onNodeClick:Re,onNodeContextmenu:qe},{default:ie(({data:e})=>{return[R("div",{class:J(["mindmap-node",`node-status-${e.status}`])},[R("span",Ia,X(e.name),1),e.status?(O(),I("span",{key:0,class:J(["node-status-badge",`badge-${e.status}`])},X((t=e.status,{passed:"通过",failed:"失败",blocked:"阻塞",not_applicable:"不适用"}[t]||"")),3)):Z("",!0)],2)];var t}),_:1},8,["data"]),de.value?(O(),I("div",{key:0,class:"context-menu",style:Q({left:ce.value.x+"px",top:ce.value.y+"px"}),onClick:i[29]||(i[29]=e=>de.value=!1)},[R("div",{class:"context-menu-item",onClick:i[24]||(i[24]=Ue(e=>Fe("passed"),["stop"]))},[...i[74]||(i[74]=[R("span",{class:"status-indicator passed"},null,-1),Xe("通过 ",-1)])]),R("div",{class:"context-menu-item",onClick:i[25]||(i[25]=Ue(e=>Fe("failed"),["stop"]))},[...i[75]||(i[75]=[R("span",{class:"status-indicator failed"},null,-1),Xe("失败 ",-1)])]),R("div",{class:"context-menu-item",onClick:i[26]||(i[26]=Ue(e=>Fe("blocked"),["stop"]))},[...i[76]||(i[76]=[R("span",{class:"status-indicator blocked"},null,-1),Xe("阻塞 ",-1)])]),R("div",{class:"context-menu-item",onClick:i[27]||(i[27]=Ue(e=>Fe("not_applicable"),["stop"]))},[...i[77]||(i[77]=[R("span",{class:"status-indicator not-applicable"},null,-1),Xe("不适用 ",-1)])]),R("div",{class:"context-menu-item",onClick:i[28]||(i[28]=Ue(e=>Fe(null),["stop"]))},[...i[78]||(i[78]=[R("span",{class:"status-indicator clear"},null,-1),Xe("清除状态 ",-1)])])],4)):Z("",!0)])):(O(),I("div",Ua,[ee(Rt,{description:"暂无思维导图数据"})]))])])]),_:1})]),_:1},8,["modelValue"])])):Z("",!0)]),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-962f5b7e"]]);export{Ra as default};
