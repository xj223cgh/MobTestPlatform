/* empty css                  */import{v as e}from"./el-loading-89207824.js";import{a as t,E as a}from"./el-tab-pane-af682d02.js";import{E as l,a as n}from"./el-checkbox-b9bd0a97.js";import{E as s}from"./el-card-487b44b2.js";import{E as o,a as d}from"./el-descriptions-item-82fb00c5.js";import{E as r}from"./el-overlay-6e33dceb.js";import{g as i,a as c,b as u,c as p,d as h,e as f,f as v,s as m,h as g,r as y,i as _,u as b,j as k}from"./testTask-504c938b.js";import{E as C,a as N}from"./el-input-320f57dc.js";import{g as x,E as w}from"./device-e71f2550.js";import{E,a as D}from"./el-radio-group-e12b1858.js";import{E as V,a as K,b as S}from"./el-table-column-fbece626.js";import{E as $}from"./el-tag-611fc351.js";import{a as B,E as j}from"./el-select-9396c850.js";import"./el-scrollbar-68fecf97.js";import"./el-tooltip-4ed993c7.js";import{E as T}from"./el-progress-9d413e07.js";import{E as z}from"./el-date-picker-panel-3f5a0fb4.js";import{a as A,E as L}from"./el-col-ede98d7c.js";import{z as M,B as U,b1 as O,c as I,d as R,e as q,h as F,_ as Y,x as H,A as P,W as G,aS as W,D as J,F as Z,aU as Q,L as X,aq as ee,f as te,M as ae,b2 as le,r as ne,aP as se,a0 as oe,o as de,b3 as re,J as ie,w as ce,K as ue,b4 as pe,C as he,a3 as fe,y as ve,E as me,N as ge,b5 as ye,aA as _e,aj as be,ah as ke,b as Ce,b6 as Ne,a4 as xe,b7 as we,ag as Ee,ak as De,a9 as Ve,I as Ke,U as Se,S as $e,aT as Be,H as je,al as Te,a1 as ze,b8 as Ae,an as Le,a5 as Me,a6 as Ue,g as Oe,a7 as Ie,ap as Re,b9 as qe,O as Fe,P as Ye,G as He,ba as Pe,bb as Ge,n as We,ao as Je,l as Ze,aB as Qe,j as Xe,bc as et,bd as tt,be as at,a_ as lt,a$ as nt,i as st,aC as ot,aD as dt,k as rt}from"./index-ea26c5b6.js";import{g as it}from"./testCase-8d3d0bad.js";import{d as ct}from"./dayjs.min-075d2e4a.js";import{_ as ut}from"./_plugin-vue_export-helper-1b428a4d.js";import{E as pt}from"./index-d73ad605.js";import"./raf-45c3df72.js";import"./strings-836bc6fd.js";import"./omit-2fc30497.js";import"./refs-9112775b.js";import"./castArray-7303869c.js";import"./index-7696e058.js";const ht=M({name:"ImgEmpty"});var ft=Y(M({...ht,setup(e){const t=U("empty"),a=O();return(e,l)=>(I(),R("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[q("defs",null,[q("linearGradient",{id:`linearGradient-1-${F(a)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[q("stop",{"stop-color":`var(${F(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),q("stop",{"stop-color":`var(${F(t).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),q("linearGradient",{id:`linearGradient-2-${F(a)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[q("stop",{"stop-color":`var(${F(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),q("stop",{"stop-color":`var(${F(t).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),q("rect",{id:`path-3-${F(a)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),q("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[q("g",{transform:"translate(-1268.000000, -535.000000)"},[q("g",{transform:"translate(1268.000000, 535.000000)"},[q("path",{d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${F(t).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),q("polygon",{fill:`var(${F(t).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),q("g",{transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[q("polygon",{fill:`var(${F(t).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),q("polygon",{fill:`var(${F(t).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),q("rect",{fill:`url(#linearGradient-1-${F(a)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),q("polygon",{fill:`var(${F(t).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),q("rect",{fill:`url(#linearGradient-2-${F(a)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),q("g",{transform:"translate(53.000000, 45.000000)"},[q("use",{fill:`var(${F(t).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${F(a)}`},null,8,["fill","xlink:href"]),q("polygon",{fill:`var(${F(t).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${F(a)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),q("polygon",{fill:`var(${F(t).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}}),[["__file","img-empty.vue"]]);const vt=H({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),mt=M({name:"ElEmpty"});const gt=ae(Y(M({...mt,props:vt,setup(e){const t=e,{t:a}=P(),l=U("empty"),n=G(()=>t.description||a("el.table.emptyText")),s=G(()=>({width:W(t.imageSize)}));return(e,t)=>(I(),R("div",{class:Z(F(l).b())},[q("div",{class:Z(F(l).e("image")),style:Q(F(s))},[e.image?(I(),R("img",{key:0,src:e.image,ondragstart:"return false"},null,8,["src"])):J(e.$slots,"image",{key:1},()=>[te(ft)])],6),q("div",{class:Z(F(l).e("description"))},[e.$slots.description?J(e.$slots,"description",{key:0}):(I(),R("p",{key:1},X(F(n)),1))],2),e.$slots.default?(I(),R("div",{key:0,class:Z(F(l).e("bottom"))},[J(e.$slots,"default")],2)):ee("v-if",!0)],2))}}),[["__file","empty.vue"]])),yt=H({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:le,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),_t=M({name:"ElText"});const bt=ae(Y(M({..._t,props:yt,setup(e){const t=e,a=ne(),l=se(),n=U("text"),s=G(()=>[n.b(),n.m(t.type),n.m(l.value),n.is("truncated",t.truncated),n.is("line-clamp",!oe(t.lineClamp))]),o=()=>{var e,l,n,s,o,d,r;if(pe().title)return;let i=!1;const c=(null==(e=a.value)?void 0:e.textContent)||"";if(t.truncated){const e=null==(l=a.value)?void 0:l.offsetWidth,t=null==(n=a.value)?void 0:n.scrollWidth;e&&t&&t>e&&(i=!0)}else if(!oe(t.lineClamp)){const e=null==(s=a.value)?void 0:s.offsetHeight,t=null==(o=a.value)?void 0:o.scrollHeight;e&&t&&t>e&&(i=!0)}i?null==(d=a.value)||d.setAttribute("title",c):null==(r=a.value)||r.removeAttribute("title")};return de(o),re(o),(e,t)=>(I(),ie(ue(e.tag),{ref_key:"textRef",ref:a,class:Z(F(s)),style:Q({"-webkit-line-clamp":e.lineClamp})},{default:ce(()=>[J(e.$slots,"default")]),_:3},8,["class","style"]))}}),[["__file","text.vue"]])),kt=M({name:"ElTimeline",setup(e,{slots:t}){const a=U("timeline");return he("timeline",t),()=>fe("ul",{class:[a.b()]},[J(t,"default")])}}),Ct=H({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:ve},hollow:Boolean}),Nt=M({name:"ElTimelineItem"});var xt=Y(M({...Nt,props:Ct,setup(e){const t=e,a=U("timeline-item"),l=G(()=>[a.e("node"),a.em("node",t.size||""),a.em("node",t.type||""),a.is("hollow",t.hollow)]);return(e,t)=>(I(),R("li",{class:Z([F(a).b(),{[F(a).e("center")]:e.center}])},[q("div",{class:Z(F(a).e("tail"))},null,2),e.$slots.dot?ee("v-if",!0):(I(),R("div",{key:0,class:Z(F(l)),style:Q({backgroundColor:e.color})},[e.icon?(I(),ie(F(me),{key:0,class:Z(F(a).e("icon"))},{default:ce(()=>[(I(),ie(ue(e.icon)))]),_:1},8,["class"])):ee("v-if",!0)],6)),e.$slots.dot?(I(),R("div",{key:1,class:Z(F(a).e("dot"))},[J(e.$slots,"dot")],2)):ee("v-if",!0),q("div",{class:Z(F(a).e("wrapper"))},[e.hideTimestamp||"top"!==e.placement?ee("v-if",!0):(I(),R("div",{key:0,class:Z([F(a).e("timestamp"),F(a).is("top")])},X(e.timestamp),3)),q("div",{class:Z(F(a).e("content"))},[J(e.$slots,"default")],2),e.hideTimestamp||"bottom"!==e.placement?ee("v-if",!0):(I(),R("div",{key:1,class:Z([F(a).e("timestamp"),F(a).is("bottom")])},X(e.timestamp),3))],2)],2))}}),[["__file","timeline-item.vue"]]);const wt=ae(kt,{TimelineItem:xt}),Et=ge(xt),Dt="$treeNodeId",Vt=function(e,t){t&&!t[Dt]&&Object.defineProperty(t,Dt,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},Kt=(e,t)=>null==t?void 0:t[e||Dt],St=(e,t,a)=>{const l=e.value.currentNode;a();const n=e.value.currentNode;l!==n&&t("current-change",n?n.data:null,n)},$t=e=>{let t=!0,a=!0,l=!0;for(let n=0,s=e.length;n<s;n++){const s=e[n];(!0!==s.checked||s.indeterminate)&&(t=!1,s.disabled||(l=!1)),(!1!==s.checked||s.indeterminate)&&(a=!1)}return{all:t,none:a,allWithoutDisable:l,half:!t&&!a}},Bt=function(e){if(0===e.childNodes.length||e.loading)return;const{all:t,none:a,half:l}=$t(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):l?(e.checked=!1,e.indeterminate=!0):a&&(e.checked=!1,e.indeterminate=!1);const n=e.parent;n&&0!==n.level&&(e.store.checkStrictly||Bt(n))},jt=function(e,t){const a=e.store.props,l=e.data||{},n=a[t];if(Ne(n))return n(l,e);if(xe(n))return l[n];if(oe(n)){const e=l[t];return oe(e)?"":e}},Tt=function(e,t){e.forEach(e=>{e.canFocus=t,Tt(e.childNodes,t)})};let zt=0;class At{constructor(e){this.isLeafByUser=void 0,this.isLeaf=void 0,this.id=zt++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const t in e)ye(e,t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){var e;const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const a=t.props;if(a&&void 0!==a.isLeaf){const e=jt(this,"isLeaf");_e(e)&&(this.isLeafByUser=e)}if(!0!==t.lazy&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&!this.isLeafByUser&&this.expand(),be(this.data)||Vt(this,this.data),!this.data)return;const l=t.defaultExpandedKeys,n=t.key;n&&!ke(this.key)&&l&&l.includes(this.key)&&this.expand(null,t.autoExpandParent),n&&void 0!==t.currentNodeKey&&this.key===t.currentNodeKey&&(t.currentNode&&(t.currentNode.isCurrent=!1),t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),1!==this.level&&!0!==(null==(e=this.parent)?void 0:e.expanded)||(this.canFocus=!0)}setData(e){let t;be(e)||Vt(this,e),this.data=e,this.childNodes=[],t=0===this.level&&be(this.data)?this.data:jt(this,"children")||[];for(let a=0,l=t.length;a<l;a++)this.insertChild({data:t[a]})}get label(){return jt(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return jt(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}get previousSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}contains(e,t=!0){return(this.childNodes||[]).some(a=>a===e||t&&a.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,t,a){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof At)){if(!a){const a=this.getChildren(!0);(null==a?void 0:a.includes(e.data))||(oe(t)||t<0?null==a||a.push(e.data):null==a||a.splice(t,0,e.data))}Object.assign(e,{parent:this,store:this.store}),(e=Ce(new At(e)))instanceof At&&e.initialize()}e.level=this.level+1,oe(t)||t<0?this.childNodes.push(e):this.childNodes.splice(t,0,e),this.updateLeafState()}insertBefore(e,t){let a;t&&(a=this.childNodes.indexOf(t)),this.insertChild(e,a)}insertAfter(e,t){let a;t&&(a=this.childNodes.indexOf(t),-1!==a&&(a+=1)),this.insertChild(e,a)}removeChild(e){const t=this.getChildren()||[],a=t.indexOf(e.data);a>-1&&t.splice(a,1);const l=this.childNodes.indexOf(e);l>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(l,1)),this.updateLeafState()}removeChildByData(e){const t=this.childNodes.find(t=>t.data===e);t&&this.removeChild(t)}expand(e,t){const a=()=>{if(t){let e=this.parent;for(;e&&e.level>0;)e.expanded=!0,e=e.parent}this.expanded=!0,e&&e(),Tt(this.childNodes,!0)};this.shouldLoadData()?this.loadData(e=>{be(e)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Bt(this),a())}):a()}doCreateChildren(e,t={}){e.forEach(e=>{this.insertChild(Object.assign({data:e},t),void 0,!0)})}collapse(){this.expanded=!1,Tt(this.childNodes,!1)}shouldLoadData(){return Boolean(!0===this.store.lazy&&this.store.load&&!this.loaded)}updateLeafState(){if(!0===this.store.lazy&&!0!==this.loaded&&void 0!==this.isLeafByUser)return void(this.isLeaf=this.isLeafByUser);const e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}setChecked(e,t,a,l){if(this.indeterminate="half"===e,this.checked=!0===e,this.store.checkStrictly)return;if(!this.shouldLoadData()||this.store.checkDescendants){const{all:a,allWithoutDisable:n}=$t(this.childNodes);this.isLeaf||a||!n||(this.checked=!1,e=!1);const s=()=>{if(t){const a=this.childNodes;for(let o=0,d=a.length;o<d;o++){const n=a[o];l=l||!1!==e;const s=n.disabled?n.checked:l;n.setChecked(s,t,!0,l)}const{half:n,all:s}=$t(a);s||(this.checked=s,this.indeterminate=n)}};if(this.shouldLoadData())return void this.loadData(()=>{s(),Bt(this)},{checked:!1!==e});s()}const n=this.parent;n&&0!==n.level&&(a||Bt(n))}getChildren(e=!1){if(0===this.level)return this.data;const t=this.data;if(!t)return null;const a=this.store.props;let l="children";return a&&(l=a.children||"children"),oe(t[l])&&(t[l]=null),e&&!t[l]&&(t[l]=[]),t[l]}updateChildren(){const e=this.getChildren()||[],t=this.childNodes.map(e=>e.data),a={},l=[];e.forEach((e,n)=>{const s=e[Dt];!!s&&t.some(e=>(null==e?void 0:e[Dt])===s)?a[s]={index:n,data:e}:l.push({index:n,data:e})}),this.store.lazy||t.forEach(e=>{a[null==e?void 0:e[Dt]]||this.removeChildByData(e)}),l.forEach(({index:e,data:t})=>{this.insertChild({data:t},e)}),this.updateLeafState()}loadData(e,t={}){if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(t).length)e&&e.call(this);else{this.loading=!0;const a=a=>{this.childNodes=[],this.doCreateChildren(a,t),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,a)},l=()=>{this.loading=!1};this.store.load(this,a,l)}}eachNode(e){const t=[this];for(;t.length;){const a=t.shift();t.unshift(...a.childNodes),e(a)}}reInitChecked(){this.store.checkStrictly||Bt(this)}}class Lt{constructor(e){this.lazy=!1,this.checkStrictly=!1,this.autoExpandParent=!1,this.defaultExpandAll=!1,this.checkDescendants=!1,this.currentNode=null,this.currentNodeKey=null;for(const t in e)ye(e,t)&&(this[t]=e[t]);this.nodesMap={}}initialize(){if(this.root=new At({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){(0,this.load)(this.root,e=>{this.root.doCreateChildren(e),this._initDefaultCheckedNodes()},we)}else this._initDefaultCheckedNodes()}filter(e){const t=this.filterNodeMethod,a=this.lazy,l=async function(n){const s=n.root?n.root.childNodes:n.childNodes;for(const[a,o]of s.entries())o.visible=!!(null==t?void 0:t.call(o,e,o.data,o)),a%80==0&&a>0&&await Ve(),await l(o);if(!n.visible&&s.length){let e=!0;e=!s.some(e=>e.visible),n.root?n.root.visible=!1===e:n.visible=!1===e}e&&n.visible&&!n.isLeaf&&(a&&!n.loaded||n.expand())};l(this)}setData(e){e!==this.root.data?(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(e){if(e instanceof At)return e;const t=Ee(e)?Kt(this.key,e):e;return this.nodesMap[t]||null}insertBefore(e,t){var a;const l=this.getNode(t);null==(a=l.parent)||a.insertBefore({data:e},l)}insertAfter(e,t){var a;const l=this.getNode(t);null==(a=l.parent)||a.insertAfter({data:e},l)}remove(e){const t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}append(e,t){const a=De(t)?this.root:this.getNode(t);a&&a.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],t=this.nodesMap;e.forEach(e=>{const a=t[e];a&&a.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){const t=this.defaultCheckedKeys||[];!ke(e.key)&&t.includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const t=this.key;if(e&&e.data)if(t){const t=e.key;ke(t)||(this.nodesMap[t]=e)}else this.nodesMap[e.id]=e}deregisterNode(e){this.key&&e&&e.data&&(e.childNodes.forEach(e=>{this.deregisterNode(e)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,t=!1){const a=[],l=function(n){(n.root?n.root.childNodes:n.childNodes).forEach(n=>{(n.checked||t&&n.indeterminate)&&(!e||e&&n.isLeaf)&&a.push(n.data),l(n)})};return l(this),a}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(e=>(e||{})[this.key])}getHalfCheckedNodes(){const e=[],t=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(a=>{a.indeterminate&&e.push(a.data),t(a)})};return t(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],t=this.nodesMap;for(const a in t)ye(t,a)&&e.push(t[a]);return e}updateChildren(e,t){const a=this.nodesMap[e];if(!a)return;const l=a.childNodes;for(let n=l.length-1;n>=0;n--){const e=l[n];this.remove(e.data)}for(let n=0,s=t.length;n<s;n++){const e=t[n];this.append(e,a.data)}}_setCheckedKeys(e,t=!1,a){const l=this._getAllNodes().sort((e,t)=>e.level-t.level),n=Object.create(null),s=Object.keys(a);l.forEach(e=>e.setChecked(!1,!1));const o=t=>{t.childNodes.forEach(t=>{var a;n[t.data[e]]=!0,(null==(a=t.childNodes)?void 0:a.length)&&o(t)})};for(let d=0,r=l.length;d<r;d++){const a=l[d],r=a.data[e].toString();if(s.includes(r)){if(a.childNodes.length&&o(a),a.isLeaf||this.checkStrictly)a.setChecked(!0,!1);else if(a.setChecked(!0,!0),t){a.setChecked(!1,!1);const e=function(t){t.childNodes.forEach(t=>{t.isLeaf||t.setChecked(!1,!1),e(t)})};e(a)}}else a.checked&&!n[r]&&a.setChecked(!1,!1)}}setCheckedNodes(e,t=!1){const a=this.key,l={};e.forEach(e=>{l[(e||{})[a]]=!0}),this._setCheckedKeys(a,t,l)}setCheckedKeys(e,t=!1){this.defaultCheckedKeys=e;const a=this.key,l={};e.forEach(e=>{l[e]=!0}),this._setCheckedKeys(a,t,l)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(e=>{const t=this.getNode(e);t&&t.expand(null,this.autoExpandParent)})}setChecked(e,t,a){const l=this.getNode(e);l&&l.setChecked(!!t,a)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,t=!0){var a;const l=e[this.key],n=this.nodesMap[l];this.setCurrentNode(n),t&&this.currentNode&&this.currentNode.level>1&&(null==(a=this.currentNode.parent)||a.expand(null,!0))}setCurrentNodeKey(e,t=!0){var a;if(this.currentNodeKey=e,De(e))return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);const l=this.getNode(e);l&&(this.setCurrentNode(l),t&&this.currentNode&&this.currentNode.level>1&&(null==(a=this.currentNode.parent)||a.expand(null,!0)))}}const Mt="RootTree",Ut="NodeInstance",Ot="TreeNodeMap";var It=Y(M({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=U("tree"),a=Ke(Ut),l=Ke(Mt);return()=>{const n=e.node,{data:s,store:o}=n;return e.renderContent?e.renderContent(fe,{_self:a,node:n,data:s,store:o}):J(l.ctx.slots,"default",{node:n,data:s},()=>[fe(bt,{tag:"span",truncated:!0,class:t.be("node","label")},()=>[n.label])])}}}),[["__file","tree-node-content.vue"]]);function Rt(e){const t=Ke(Ot,null),a={treeNodeExpand:t=>{var a;e.node!==t&&(null==(a=e.node)||a.collapse())},children:[]};return t&&t.children.push(a),he(Ot,a),{broadcastExpanded:t=>{if(e.accordion)for(const e of a.children)e.treeNodeExpand(t)}}}const qt=Symbol("dragEvents");const Ft=M({name:"ElTreeNode",components:{ElCollapseTransition:pt,ElCheckbox:l,NodeContent:It,ElIcon:me,Loading:Be},props:{node:{type:At,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:["node-expand"],setup(e,t){const a=U("tree"),{broadcastExpanded:l}=Rt(e),n=Ke(Mt),s=ne(!1),o=ne(!1),d=ne(),r=ne(),i=ne(),c=Ke(qt),u=je();he(Ut,u),n||Te("Tree","Can not find node's tree."),e.node.expanded&&(s.value=!0,o.value=!0);const p=n.props.props.children||"children";ze(()=>{var t;const a=null==(t=e.node.data)?void 0:t[p];return a&&[...a]},()=>{e.node.updateChildren()}),ze(()=>e.node.indeterminate,t=>{f(e.node.checked,t)}),ze(()=>e.node.checked,t=>{f(t,e.node.indeterminate)}),ze(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),ze(()=>e.node.expanded,e=>{Ve(()=>s.value=e),e&&(o.value=!0)});const h=e=>Kt(n.props.nodeKey,e.data),f=(t,a)=>{d.value===t&&r.value===a||n.ctx.emit("check-change",e.node.data,t,a),d.value=t,r.value=a},v=()=>{e.node.isLeaf||(s.value?(n.ctx.emit("node-collapse",e.node.data,e.node,u),e.node.collapse()):e.node.expand(()=>{t.emit("node-expand",e.node.data,e.node,u)}))},m=t=>{e.node.setChecked(t,!(null==n?void 0:n.props.checkStrictly)),Ve(()=>{const t=n.store.value;n.ctx.emit("check",e.node.data,{checkedNodes:t.getCheckedNodes(),checkedKeys:t.getCheckedKeys(),halfCheckedNodes:t.getHalfCheckedNodes(),halfCheckedKeys:t.getHalfCheckedKeys()})})};return{ns:a,node$:i,tree:n,expanded:s,childNodeRendered:o,oldChecked:d,oldIndeterminate:r,getNodeKey:h,getNodeClass:t=>{const a=e.props.class;if(!a)return{};let l;if(Ne(a)){const{data:e}=t;l=a(e,t)}else l=a;return xe(l)?{[l]:!0}:l},handleSelectChange:f,handleClick:t=>{St(n.store,n.ctx.emit,()=>{var t;if(null==(t=null==n?void 0:n.props)?void 0:t.nodeKey){const t=h(e.node);n.store.value.setCurrentNodeKey(t)}else n.store.value.setCurrentNode(e.node)}),n.currentNode.value=e.node,n.props.expandOnClickNode&&v(),(n.props.checkOnClickNode||e.node.isLeaf&&n.props.checkOnClickLeaf&&e.showCheckbox)&&!e.node.disabled&&m(!e.node.checked),n.ctx.emit("node-click",e.node.data,e.node,u,t)},handleContextMenu:t=>{var a;(null==(a=n.instance.vnode.props)?void 0:a.onNodeContextmenu)&&(t.stopPropagation(),t.preventDefault()),n.ctx.emit("node-contextmenu",t,e.node.data,e.node,u)},handleExpandIconClick:v,handleCheckChange:m,handleChildNodeExpand:(e,t,a)=>{l(t),n.ctx.emit("node-expand",e,t,a)},handleDragStart:t=>{n.props.draggable&&c.treeNodeDragStart({event:t,treeNode:e})},handleDragOver:t=>{t.preventDefault(),n.props.draggable&&c.treeNodeDragOver({event:t,treeNode:{$el:i.value,node:e.node}})},handleDrop:e=>{e.preventDefault()},handleDragEnd:e=>{n.props.draggable&&c.treeNodeDragEnd(e)},CaretRight:Ae}}});const Yt={"check-change":(e,t,a)=>e&&_e(t)&&_e(a),"current-change":(e,t)=>!0,"node-click":(e,t,a,l)=>e&&t&&l instanceof Event,"node-contextmenu":(e,t,a,l)=>e instanceof Event&&t&&a,"node-collapse":(e,t,a)=>e&&t,"node-expand":(e,t,a)=>e&&t,check:(e,t)=>e&&t,"node-drag-start":(e,t)=>e&&t,"node-drag-end":(e,t,a,l)=>e&&l,"node-drop":(e,t,a,l)=>e&&t&&l,"node-drag-leave":(e,t,a)=>e&&t&&a,"node-drag-enter":(e,t,a)=>e&&t&&a,"node-drag-over":(e,t,a)=>e&&t&&a};const Ht=ae(Y(M({name:"ElTree",components:{ElTreeNode:Y(Ft,[["render",function(e,t,a,l,n,s){const o=Le("el-icon"),d=Le("el-checkbox"),r=Le("loading"),i=Le("node-content"),c=Le("el-tree-node"),u=Le("el-collapse-transition");return Me((I(),R("div",{ref:"node$",class:Z([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:Oe(e.handleClick,["stop"]),onContextmenu:e.handleContextMenu,onDragstart:Oe(e.handleDragStart,["stop"]),onDragover:Oe(e.handleDragOver,["stop"]),onDragend:Oe(e.handleDragEnd,["stop"]),onDrop:Oe(e.handleDrop,["stop"])},[q("div",{class:Z(e.ns.be("node","content")),style:Q({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(I(),ie(o,{key:0,class:Z([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:Oe(e.handleExpandIconClick,["stop"])},{default:ce(()=>[(I(),ie(ue(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):ee("v-if",!0),e.showCheckbox?(I(),ie(d,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:Oe(()=>{},["stop"]),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):ee("v-if",!0),e.node.loading?(I(),ie(o,{key:2,class:Z([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:ce(()=>[te(r)]),_:1},8,["class"])):ee("v-if",!0),te(i,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),te(u,null,{default:ce(()=>[!e.renderAfterExpand||e.childNodeRendered?Me((I(),R("div",{key:0,class:Z(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded,onClick:Oe(()=>{},["stop"])},[(I(!0),R(Ie,null,Re(e.node.childNodes,t=>(I(),ie(c,{key:e.getNodeKey(t),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:t,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded","onClick"])),[[Ue,e.expanded]]):ee("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[Ue,e.node.visible]])}],["__file","tree-node.vue"]])},props:{data:{type:He(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:{type:He(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:He(Function)},allowDrop:{type:He(Function)},props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:Boolean,highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:ve}},emits:Yt,setup(e,t){const{t:a}=P(),l=U("tree"),n=ne(new Lt({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));n.value.initialize();const s=ne(n.value.root),o=ne(null),d=ne(null),r=ne(null),{broadcastExpanded:i}=Rt(e),{dragState:c}=function({props:e,ctx:t,el$:a,dropIndicator$:l,store:n}){const s=U("tree"),o=ne({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return he(qt,{treeNodeDragStart:({event:a,treeNode:l})=>{if(a.dataTransfer){if(Ne(e.allowDrag)&&!e.allowDrag(l.node))return a.preventDefault(),!1;a.dataTransfer.effectAllowed="move";try{a.dataTransfer.setData("text/plain","")}catch(n){}o.value.draggingNode=l,t.emit("node-drag-start",l.node,a)}},treeNodeDragOver:({event:n,treeNode:d})=>{if(!n.dataTransfer)return;const r=d,i=o.value.dropNode;i&&i.node.id!==r.node.id&&Se(i.$el,s.is("drop-inner"));const c=o.value.draggingNode;if(!c||!r)return;let u=!0,p=!0,h=!0,f=!0;Ne(e.allowDrop)&&(u=e.allowDrop(c.node,r.node,"prev"),f=p=e.allowDrop(c.node,r.node,"inner"),h=e.allowDrop(c.node,r.node,"next")),n.dataTransfer.dropEffect=p||u||h?"move":"none",(u||p||h)&&(null==i?void 0:i.node.id)!==r.node.id&&(i&&t.emit("node-drag-leave",c.node,i.node,n),t.emit("node-drag-enter",c.node,r.node,n)),o.value.dropNode=u||p||h?r:null,r.node.nextSibling===c.node&&(h=!1),r.node.previousSibling===c.node&&(u=!1),r.node.contains(c.node,!1)&&(p=!1),(c.node===r.node||c.node.contains(r.node))&&(u=!1,p=!1,h=!1);const v=r.$el,m=v.querySelector(`.${s.be("node","content")}`).getBoundingClientRect(),g=a.value.getBoundingClientRect(),y=a.value.scrollTop;let _;const b=u?p?.25:h?.45:1:Number.NEGATIVE_INFINITY,k=h?p?.75:u?.55:0:Number.POSITIVE_INFINITY;let C=-9999;const N=n.clientY-m.top;_=N<m.height*b?"before":N>m.height*k?"after":p?"inner":"none";const x=v.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),w=l.value;"before"===_?C=x.top-g.top+y:"after"===_&&(C=x.bottom-g.top+y),w.style.top=`${C}px`,w.style.left=x.right-g.left+"px","inner"===_?$e(v,s.is("drop-inner")):Se(v,s.is("drop-inner")),o.value.showDropIndicator="before"===_||"after"===_,o.value.allowDrop=o.value.showDropIndicator||f,o.value.dropType=_,t.emit("node-drag-over",c.node,r.node,n)},treeNodeDragEnd:e=>{var a,l;const{draggingNode:d,dropType:r,dropNode:i}=o.value;if(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move"),(null==d?void 0:d.node.data)&&i){const o={data:d.node.data};"none"!==r&&d.node.remove(),"before"===r?null==(a=i.node.parent)||a.insertBefore(o,i.node):"after"===r?null==(l=i.node.parent)||l.insertAfter(o,i.node):"inner"===r&&i.node.insertChild(o),"none"!==r&&(n.value.registerNode(o),n.value.key&&d.node.eachNode(e=>{var t;null==(t=n.value.nodesMap[e.data[n.value.key]])||t.setChecked(e.checked,!n.value.checkStrictly)})),Se(i.$el,s.is("drop-inner")),t.emit("node-drag-end",d.node,i.node,r,e),"none"!==r&&t.emit("node-drop",d.node,i.node,r,e)}d&&!i&&t.emit("node-drag-end",d.node,null,r,e),o.value.showDropIndicator=!1,o.value.draggingNode=null,o.value.dropNode=null,o.value.allowDrop=!0}}),{dragState:o}}({props:e,ctx:t,el$:d,dropIndicator$:r,store:n});!function({el$:e},t){const a=U("tree");function l(e,a){var l,n;const s=t.value.getNode(e[a].dataset.key);return s.canFocus&&s.visible&&((null==(l=s.parent)?void 0:l.expanded)||0===(null==(n=s.parent)?void 0:n.level))}de(()=>{n()}),re(()=>{Array.from(e.value.querySelectorAll("input[type=checkbox]")).forEach(e=>{e.setAttribute("tabindex","-1")})}),qe(e,"keydown",t=>{const n=t.target;if(!n.className.includes(a.b("node")))return;const s=Fe(t),o=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`)),d=o.indexOf(n);let r;if([Ye.up,Ye.down].includes(s)){if(t.preventDefault(),s===Ye.up){r=-1===d?0:0!==d?d-1:o.length-1;const e=r;for(;!l(o,r);){if(r--,r===e){r=-1;break}r<0&&(r=o.length-1)}}else{r=-1===d?0:d<o.length-1?d+1:0;const e=r;for(;!l(o,r);){if(r++,r===e){r=-1;break}r>=o.length&&(r=0)}}-1!==r&&o[r].focus()}[Ye.left,Ye.right].includes(s)&&(t.preventDefault(),n.click());const i=n.querySelector('[type="checkbox"]');[Ye.enter,Ye.numpadEnter,Ye.space].includes(s)&&i&&(t.preventDefault(),i.click())});const n=()=>{var t;if(!e.value)return;const l=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`));Array.from(e.value.querySelectorAll("input[type=checkbox]")).forEach(e=>{e.setAttribute("tabindex","-1")});const n=e.value.querySelectorAll(`.${a.is("checked")}[role=treeitem]`);n.length?n[0].setAttribute("tabindex","0"):null==(t=l[0])||t.setAttribute("tabindex","0")}}({el$:d},n);const u=je(),p=G(()=>{let e=null==u?void 0:u.parent;for(;e;){if("ElTreeSelect"===e.type.name)return!0;e=e.parent}return!1}),h=G(()=>{const{childNodes:e}=s.value;return(!e||0===e.length||e.every(({visible:e})=>!e))&&!p.value});ze(()=>e.currentNodeKey,e=>{n.value.setCurrentNodeKey(null!=e?e:null)}),ze(()=>e.defaultCheckedKeys,(e,t)=>{Pe(e,t)||n.value.setDefaultCheckedKey(null!=e?e:[])}),ze(()=>e.defaultExpandedKeys,e=>{n.value.setDefaultExpandedKeys(null!=e?e:[])}),ze(()=>e.data,e=>{n.value.setData(e)},{deep:!0}),ze(()=>e.checkStrictly,e=>{n.value.checkStrictly=e});const f=t=>{if(!e.nodeKey)throw new Error(`[Tree] nodeKey is required in ${t}`)},v=()=>{const e=n.value.getCurrentNode();return e?e.data:null};return he(Mt,{ctx:t,props:e,store:n,root:s,currentNode:o,instance:u}),he(Ge,void 0),{ns:l,store:n,root:s,currentNode:o,dragState:c,el$:d,dropIndicator$:r,isEmpty:h,filter:t=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");n.value.filter(t)},getNodeKey:t=>Kt(e.nodeKey,t.data),getNodePath:e=>{f("getNodePath");const t=n.value.getNode(e);if(!t)return[];const a=[t.data];let l=t.parent;for(;l&&l!==s.value;)a.push(l.data),l=l.parent;return a.reverse()},getCheckedNodes:(e,t)=>n.value.getCheckedNodes(e,t),getCheckedKeys:e=>n.value.getCheckedKeys(e),getCurrentNode:v,getCurrentKey:()=>{f("getCurrentKey");const t=v();return t?t[e.nodeKey]:null},setCheckedNodes:(e,t)=>{f("setCheckedNodes"),n.value.setCheckedNodes(e,t)},setCheckedKeys:(e,t)=>{f("setCheckedKeys"),n.value.setCheckedKeys(e,t)},setChecked:(e,t,a)=>{n.value.setChecked(e,t,a)},getHalfCheckedNodes:()=>n.value.getHalfCheckedNodes(),getHalfCheckedKeys:()=>n.value.getHalfCheckedKeys(),setCurrentNode:(e,a=!0)=>{f("setCurrentNode"),St(n,t.emit,()=>{i(e),n.value.setUserCurrentNode(e,a)})},setCurrentKey:(e=null,a=!0)=>{f("setCurrentKey"),St(n,t.emit,()=>{i(),n.value.setCurrentNodeKey(e,a)})},t:a,getNode:e=>n.value.getNode(e),remove:e=>{n.value.remove(e)},append:(e,t)=>{n.value.append(e,t)},insertBefore:(e,t)=>{n.value.insertBefore(e,t)},insertAfter:(e,t)=>{n.value.insertAfter(e,t)},handleNodeExpand:(e,a,l)=>{i(a),t.emit("node-expand",e,a,l)},updateKeyChildren:(e,t)=>{f("updateKeyChild"),n.value.updateChildren(e,t)}}}}),[["render",function(e,t,a,l,n,s){const o=Le("el-tree-node");return I(),R("div",{ref:"el$",class:Z([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner","inner"===e.dragState.dropType),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(I(!0),R(Ie,null,Re(e.root.childNodes,t=>(I(),ie(o,{key:e.getNodeKey(t),node:t,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(I(),R("div",{key:0,class:Z(e.ns.e("empty-block"))},[J(e.$slots,"empty",{},()=>{var t;return[q("span",{class:Z(e.ns.e("empty-text"))},X(null!=(t=e.emptyText)?t:e.t("el.tree.emptyText")),3)]})],2)):ee("v-if",!0),Me(q("div",{ref:"dropIndicator$",class:Z(e.ns.e("drop-indicator"))},null,2),[[Ue,e.dragState.showDropIndicator]])],2)}],["__file","tree.vue"]])),Pt={class:"test-task-management"},Gt={class:"page-header"},Wt={class:"header-actions"},Jt={class:"stats-section"},Zt={class:"stat-card"},Qt={class:"stat-icon total"},Xt={class:"stat-content"},ea={class:"stat-number"},ta={class:"stat-card"},aa={class:"stat-icon running"},la={class:"stat-content"},na={class:"stat-number"},sa={class:"stat-card"},oa={class:"stat-icon completed"},da={class:"stat-content"},ra={class:"stat-number"},ia={class:"stat-card"},ca={class:"stat-icon failed"},ua={class:"stat-content"},pa={class:"stat-number"},ha={class:"search-section"},fa={class:"table-section"},va={key:0,class:"batch-actions"},ma={class:"pagination"},ga={class:"dialog-footer"},ya={key:0,class:"task-detail"},_a=["href"],ba={key:1},ka={class:"logs-container"},Ca={class:"log-content"},Na={class:"results-container"},xa={class:"mindmap-container"},wa={class:"filter-controls"},Ea={class:"stats-summary"},Da={class:"stat-value"},Va={class:"stat-value"},Ka={class:"stat-value"},Sa={class:"stat-value"},$a={class:"stat-value"},Ba={class:"stat-value"},ja={class:"chart-section"},Ta={class:"card-header"},za={class:"chart-container"},Aa={class:"chart-placeholder"},La={class:"mindmap-content"},Ma={key:0,class:"loading-container"},Ua={key:1,class:"empty-state"},Oa={key:2,class:"mindmap-container"},Ia={class:"node-name"},Ra=ut({__name:"TestTaskManagement",setup(M){const U=ne(!1),O=ne(!1),Y=ne(!1),H=ne(!1),P=ne(!1),W=ne(""),J=ne(),ae=ne(null),le=ne([]),se=ne("basic"),oe=ne(null),re=ne(!1),ue=ne({x:0,y:0}),pe=ne(null),he=ne(!1),fe=ne(null),ve=ne(null),ge=ne(["passed","failed","blocked","not_applicable"]),ye=ne({passed:{type:"passed",label:"通过",count:0},failed:{type:"failed",label:"失败",count:0},blocked:{type:"blocked",label:"阻塞",count:0},not_applicable:{type:"not_applicable",label:"不适用",count:0},pass_rate:0}),_e=G(()=>{const e={};for(const[t,a]of Object.entries(ye.value))"pass_rate"!==t&&(null==a?void 0:a.count)>0&&(e[t]=a);return e}),be=G(()=>{let e=0;const t=a=>a&&a.length?(a.forEach(a=>{!a.status||a.children&&0!==a.children.length||e++,a.children&&a.children.length>0&&t(a.children)}),e):0;return fe.value&&t(fe.value),e}),ke=Ce({total:0,running:0,completed:0,failed:0}),Ne=Ce({name:"",suite_id:"",status:"",priority:"",dateRange:[]}),xe=Ce({id:null,name:"",description:"",suite_id:"",document_link:"",version_info:"",planned_start_time:"",planned_end_time:"",notes:"",priority:"medium",device_ids:[],case_ids:[],environment:"testing",concurrency:1,timeout:300,retry_count:0,notification_types:[]}),we={name:[{required:!0,message:"请输入任务名称",trigger:"blur"}],suite_id:[{required:!0,message:"请选择测试套件",trigger:"change"}],device_ids:[{required:!0,message:"请选择设备",trigger:"change"}],case_ids:[{required:!0,message:"请选择测试用例",trigger:"change"}],environment:[{required:!0,message:"请选择执行环境",trigger:"change"}]},Ee=ne([]),De=ne([]),Ve=ne([]),Ke=ne([]),Se=ne([]),$e=ne([]),Be=Ce({page:1,size:10,total:0}),je=async()=>{U.value=!0;try{const e={page:Be.page,size:Be.size,...Ne};Ne.dateRange&&2===Ne.dateRange.length&&(e.start_date=Ne.dateRange[0],e.end_date=Ne.dateRange[1]);const t=await i(e);t.success?(Ee.value=t.data.list,Be.total=t.data.total):We.error(t.message||"获取测试任务列表失败")}catch(e){console.error("获取测试任务列表失败:",e),We.error("获取测试任务列表失败")}finally{U.value=!1}},Te=e=>{const t=$e.value.find(t=>t.id===e);return t?t.name:"-"},ze=(e,t)=>{if(!e&&!t)return"-";return`${e?Bt(e):"未设置"} 至 ${t?Bt(t):"未设置"}`},Ae=()=>{if(!fe.value)return[];const e=(t,a)=>{if(!t||!t.children||!t.children.length)return t;const l=t.children.filter(t=>!!(!t.status||a.includes(t.status)||t.children&&t.children.length)&&(t.children&&t.children.length>0&&(t.children=e(t,a).children),!t.status||a.includes(t.status)||t.children&&t.children.length>0));return{...t,children:l}};ve.value=e(fe.value,ge.value)},Le=async()=>{if(ae.value){he.value=!0;try{try{const e=await v(ae.value.id);if(e.success)return fe.value=e.data,He(e.data),Ae(),void(he.value=!1)}catch(e){console.log("API调用失败，使用模拟数据:",e)}setTimeout(()=>{fe.value={name:ae.value.name,children:[{name:"功能模块1",children:[{name:"用例1-1",status:"passed"},{name:"用例1-2",status:"failed"},{name:"用例1-3",status:"blocked"}]},{name:"功能模块2",children:[{name:"用例2-1",status:"passed"},{name:"用例2-2",status:"not_applicable"}]}]},ye.value.passed.count=Math.floor(50*Math.random()),ye.value.failed.count=Math.floor(10*Math.random()),ye.value.blocked.count=Math.floor(5*Math.random()),ye.value.not_applicable.count=Math.floor(3*Math.random());const e=ye.value.passed.count+ye.value.failed.count;ye.value.pass_rate=e>0?Math.round(ye.value.passed.count/e*100):0,Ae(),he.value=!1},1e3)}catch(t){console.error("获取思维导图失败:",t),he.value=!1}}},Ue=async()=>{if(ae.value&&fe.value)try{const e=JSON.stringify(fe.value,null,2),t=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download=`${ae.value.name}_思维导图.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a),We.success("导出成功")}catch(e){console.error("导出思维导图失败:",e),We.error("导出失败")}},qe=e=>{pe.value=e},Fe=(e,t)=>{e.preventDefault(),pe.value=t,ue.value={x:e.pageX,y:e.pageY},re.value=!0},Ye=e=>{pe.value&&(((e,t)=>{e.status=t,He(fe.value),Ae(),We.success("状态更新成功")})(pe.value,e),re.value=!1)};de(()=>{document.addEventListener("click",e=>{const t=document.querySelector(".context-menu");!t||t.contains(e.target)||e.target.closest(".mindmap-node")||(re.value=!1)}),document.addEventListener("keydown",e=>{"Escape"===e.key&&(re.value=!1)})});const He=e=>{ye.value={passed:{type:"passed",label:"通过",count:0},failed:{type:"failed",label:"失败",count:0},blocked:{type:"blocked",label:"阻塞",count:0},not_applicable:{type:"not_applicable",label:"不适用",count:0},pass_rate:0};const t=e=>{if(!e||!e.length)return 0;let a=0;return e.forEach(e=>{!e.status||e.children&&0!==e.children.length||(ye.value[e.status].count++,a++),e.children&&e.children.length>0&&(a+=t(e.children))}),a},a=t(e),l=ye.value.passed.count;ye.value.pass_rate=a>0?Math.round(l/a*100):0},Pe=e=>{const t=be.value;return t>0?Math.round(e/t*100):0},Ge=()=>{He(fe.value),We.success("统计信息已刷新")},ut=async()=>{try{const e=await c();e.success&&Object.assign(ke,e.data)}catch(e){console.error("获取测试任务统计失败:",e)}},pt=()=>{Be.page=1,je()},ht=()=>{Object.assign(Ne,{name:"",suite_id:"",status:"",priority:"",dateRange:[]}),pt()},ft=()=>{P.value=!1,W.value="创建测试任务",Y.value=!0,Ct()},vt=()=>{We.info("批量创建功能开发中...")},mt=e=>{le.value=e},yt=async()=>{if(0!==le.value.length)try{const e=le.value.map(e=>e.id),t=await p(e);t.success?(We.success("批量启动成功"),je(),ut()):We.error(t.message||"批量启动失败")}catch(e){console.error("批量启动失败:",e),We.error("批量启动失败")}else We.warning("请选择要启动的任务")},_t=async()=>{if(0!==le.value.length)try{const e=le.value.map(e=>e.id),t=await h(e);t.success?(We.success("批量停止成功"),je(),ut()):We.error(t.message||"批量停止失败")}catch(e){console.error("批量停止失败:",e),We.error("批量停止失败")}else We.warning("请选择要停止的任务")},bt=()=>{0!==le.value.length?Je.confirm(`确定要删除选中的 ${le.value.length} 个测试任务吗？此操作不可恢复。`,"确认批量删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{const e=le.value.map(e=>e.id),t=await f(e);t.success?(We.success("批量删除成功"),je(),ut()):We.error(t.message||"批量删除失败")}catch(e){console.error("批量删除失败:",e),We.error("批量删除失败")}}):We.warning("请选择要删除的任务")},kt=async()=>{if(J.value)try{await J.value.validate(),O.value=!0;const e={id:xe.id,name:xe.name,description:xe.description,suite_id:xe.suite_id,document_link:xe.document_link,version_info:xe.version_info,planned_start_time:xe.planned_start_time,planned_end_time:xe.planned_end_time,notes:xe.notes,priority:xe.priority,device_ids:xe.device_ids,case_ids:xe.case_ids,environment:xe.environment,concurrency:xe.concurrency,timeout:xe.timeout,retry_count:xe.retry_count,notification_types:xe.notification_types};let t;t=P.value?await b(xe.id,e):await k(e),t.success?(We.success(P.value?"更新成功":"创建成功"),Y.value=!1,je(),ut()):We.error(t.message||"操作失败")}catch(e){console.error("提交失败:",e),We.error("操作失败")}finally{O.value=!1}},Ct=()=>{Object.assign(xe,{id:null,name:"",description:"",suite_id:"",document_link:"",version_info:"",planned_start_time:"",planned_end_time:"",notes:"",priority:"medium",device_ids:[],case_ids:[],environment:"testing",concurrency:1,timeout:300,retry_count:0,notification_types:[]}),Object.assign(xe,{id:null,name:"",description:"",priority:"medium",device_ids:[],case_ids:[],environment:"testing",concurrency:1,timeout:300,retry_count:0,notification_types:[]}),J.value&&J.value.resetFields()},Nt=e=>{Be.size=e,Be.page=1,je()},xt=e=>{Be.page=e,je()},Dt=e=>({pending:"待执行",running:"执行中",completed:"已完成",failed:"失败",cancelled:"已取消"}[e]||e),Vt=e=>({pending:"info",running:"primary",completed:"success",failed:"danger",cancelled:"warning"}[e]||"info"),Kt=e=>({high:"高",medium:"中",low:"低"}[e]||e),St=e=>({high:"danger",medium:"warning",low:"success"}[e]||"info"),$t=e=>({completed:"success",failed:"exception",running:"",pending:"",cancelled:"warning"}[e]||""),Bt=e=>e?ct(e).format("YYYY-MM-DD HH:mm:ss"):"-";return de(()=>{je(),ut(),(async()=>{try{const e=await x({page:1,size:1e3});e.success&&(De.value=e.data.list)}catch(e){console.error("获取设备列表失败:",e)}})(),(async()=>{try{const e=await it({page:1,size:1e3});e.success&&(Ve.value=e.data.list)}catch(e){console.error("获取测试用例列表失败:",e)}})(),(async()=>{try{const e=await u();e.success&&($e.value=e.data.suite_options||[])}catch(e){console.error("获取测试套件选项失败:",e)}})()}),(i,c)=>{const u=me,p=Ze,h=L,f=A,v=rt,b=N,k=B,x=j,M=z,G=C,ne=S,de=$,pe=T,Ce=V,He=K,it=E,ct=D,Ct=w,jt=l,Tt=n,zt=r,At=o,Lt=d,Mt=t,Ut=Et,Ot=wt,It=s,Rt=gt,qt=Ht,Ft=a,Yt=e;return I(),R("div",Pt,[q("div",Gt,[c[34]||(c[34]=q("div",{class:"header-content"},[q("h1",null,"测试任务管理"),q("p",{class:"description"},"创建和管理测试任务")],-1)),q("div",Wt,[te(p,{type:"primary",onClick:ft},{default:ce(()=>[te(u,null,{default:ce(()=>[te(F(Qe))]),_:1}),c[32]||(c[32]=Xe(" 创建任务 ",-1))]),_:1}),te(p,{onClick:vt},{default:ce(()=>[te(u,null,{default:ce(()=>[te(F(et))]),_:1}),c[33]||(c[33]=Xe(" 批量创建 ",-1))]),_:1})])]),q("div",Jt,[te(f,{gutter:20},{default:ce(()=>[te(h,{span:6},{default:ce(()=>[q("div",Zt,[q("div",Qt,[te(u,null,{default:ce(()=>[te(F(tt))]),_:1})]),q("div",Xt,[q("div",ea,X(ke.total),1),c[35]||(c[35]=q("div",{class:"stat-label"},"任务总数",-1))])])]),_:1}),te(h,{span:6},{default:ce(()=>[q("div",ta,[q("div",aa,[te(u,null,{default:ce(()=>[te(F(at))]),_:1})]),q("div",la,[q("div",na,X(ke.running),1),c[36]||(c[36]=q("div",{class:"stat-label"},"执行中",-1))])])]),_:1}),te(h,{span:6},{default:ce(()=>[q("div",sa,[q("div",oa,[te(u,null,{default:ce(()=>[te(F(lt))]),_:1})]),q("div",da,[q("div",ra,X(ke.completed),1),c[37]||(c[37]=q("div",{class:"stat-label"},"已完成",-1))])])]),_:1}),te(h,{span:6},{default:ce(()=>[q("div",ia,[q("div",ca,[te(u,null,{default:ce(()=>[te(F(nt))]),_:1})]),q("div",ua,[q("div",pa,X(ke.failed),1),c[38]||(c[38]=q("div",{class:"stat-label"},"失败",-1))])])]),_:1})]),_:1})]),q("div",ha,[te(G,{model:Ne,inline:""},{default:ce(()=>[te(b,{label:"任务名称"},{default:ce(()=>[te(v,{modelValue:Ne.name,"onUpdate:modelValue":c[0]||(c[0]=e=>Ne.name=e),placeholder:"请输入任务名称",clearable:"",onClear:pt,onKeyup:st(pt,["enter"])},null,8,["modelValue"])]),_:1}),te(b,{label:"所属套件"},{default:ce(()=>[te(x,{modelValue:Ne.suite_id,"onUpdate:modelValue":c[1]||(c[1]=e=>Ne.suite_id=e),placeholder:"选择测试套件",clearable:"",onClear:pt,onChange:pt,filterable:""},{default:ce(()=>[(I(!0),R(Ie,null,Re($e.value,e=>(I(),ie(k,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),te(b,{label:"状态"},{default:ce(()=>[te(x,{modelValue:Ne.status,"onUpdate:modelValue":c[2]||(c[2]=e=>Ne.status=e),placeholder:"请选择状态",clearable:"",onClear:pt,onChange:pt},{default:ce(()=>[te(k,{label:"待执行",value:"pending"}),te(k,{label:"执行中",value:"running"}),te(k,{label:"已完成",value:"completed"}),te(k,{label:"失败",value:"failed"}),te(k,{label:"已取消",value:"cancelled"})]),_:1},8,["modelValue"])]),_:1}),te(b,{label:"优先级"},{default:ce(()=>[te(x,{modelValue:Ne.priority,"onUpdate:modelValue":c[3]||(c[3]=e=>Ne.priority=e),placeholder:"请选择优先级",clearable:"",onClear:pt,onChange:pt},{default:ce(()=>[te(k,{label:"高",value:"high"}),te(k,{label:"中",value:"medium"}),te(k,{label:"低",value:"low"})]),_:1},8,["modelValue"])]),_:1}),te(b,{label:"创建时间"},{default:ce(()=>[te(M,{modelValue:Ne.dateRange,"onUpdate:modelValue":c[4]||(c[4]=e=>Ne.dateRange=e),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:pt},null,8,["modelValue"])]),_:1}),te(b,null,{default:ce(()=>[te(p,{type:"primary",onClick:pt},{default:ce(()=>[te(u,null,{default:ce(()=>[te(F(ot))]),_:1}),c[39]||(c[39]=Xe(" 搜索 ",-1))]),_:1}),te(p,{onClick:ht},{default:ce(()=>[te(u,null,{default:ce(()=>[te(F(dt))]),_:1}),c[40]||(c[40]=Xe(" 重置 ",-1))]),_:1})]),_:1})]),_:1},8,["model"])]),q("div",fa,[Me((I(),ie(Ce,{data:Ee.value,stripe:"",border:"",style:{width:"100%"},onSelectionChange:mt},{default:ce(()=>[te(ne,{type:"selection",width:"55"}),te(ne,{prop:"id",label:"ID",width:"80"}),te(ne,{prop:"name",label:"任务名称","min-width":"200","show-overflow-tooltip":""}),te(ne,{prop:"status",label:"状态",width:"100"},{default:ce(({row:e})=>[te(de,{type:Vt(e.status)},{default:ce(()=>[Xe(X(Dt(e.status)),1)]),_:2},1032,["type"])]),_:1}),te(ne,{prop:"priority",label:"优先级",width:"80"},{default:ce(({row:e})=>[te(de,{type:St(e.priority)},{default:ce(()=>[Xe(X(Kt(e.priority)),1)]),_:2},1032,["type"])]),_:1}),te(ne,{prop:"progress",label:"进度",width:"120"},{default:ce(({row:e})=>[te(pe,{percentage:e.progress,status:$t(e.status),"stroke-width":6},null,8,["percentage","status"])]),_:1}),te(ne,{prop:"device_count",label:"设备数量",width:"100"}),te(ne,{prop:"case_count",label:"用例数量",width:"100"}),te(ne,{prop:"creator",label:"创建者",width:"100"}),te(ne,{prop:"created_at",label:"创建时间",width:"160"},{default:ce(({row:e})=>[Xe(X(Bt(e.created_at)),1)]),_:1}),te(ne,{prop:"updated_at",label:"更新时间",width:"160"},{default:ce(({row:e})=>[Xe(X(Bt(e.updated_at)),1)]),_:1}),te(ne,{label:"操作",width:"300",fixed:"right"},{default:ce(({row:e})=>[te(p,{type:"primary",size:"small",onClick:t=>(async e=>{ae.value=e,H.value=!0,se.value="basic";try{Ke.value=[],Se.value=[],setTimeout(()=>{"mindmap"===se.value&&Le()},500)}catch(t){console.error("获取任务详情失败:",t)}})(e)},{default:ce(()=>[...c[41]||(c[41]=[Xe(" 查看 ",-1)])]),_:1},8,["onClick"]),"pending"===e.status?(I(),ie(p,{key:0,type:"success",size:"small",onClick:t=>(async e=>{try{const t=await m(e.id);t.success?(We.success("任务启动成功"),je(),ut()):We.error(t.message||"启动任务失败")}catch(t){console.error("启动任务失败:",t),We.error("启动任务失败")}})(e)},{default:ce(()=>[...c[42]||(c[42]=[Xe(" 启动 ",-1)])]),_:1},8,["onClick"])):ee("",!0),"running"===e.status?(I(),ie(p,{key:1,type:"warning",size:"small",onClick:t=>(async e=>{try{const t=await g(e.id);t.success?(We.success("任务停止成功"),je(),ut()):We.error(t.message||"停止任务失败")}catch(t){console.error("停止任务失败:",t),We.error("停止任务失败")}})(e)},{default:ce(()=>[...c[43]||(c[43]=[Xe(" 停止 ",-1)])]),_:1},8,["onClick"])):ee("",!0),"completed"===e.status||"failed"===e.status?(I(),ie(p,{key:2,type:"info",size:"small",onClick:t=>(async e=>{try{const t=await y(e.id);t.success?(We.success("任务重新执行成功"),je(),ut()):We.error(t.message||"重新执行任务失败")}catch(t){console.error("重新执行任务失败:",t),We.error("重新执行任务失败")}})(e)},{default:ce(()=>[...c[44]||(c[44]=[Xe(" 重新执行 ",-1)])]),_:1},8,["onClick"])):ee("",!0),te(p,{type:"warning",size:"small",onClick:t=>(e=>{P.value=!0,W.value="编辑测试任务",Y.value=!0,Object.assign(xe,{id:e.id,name:e.name,description:e.description,suite_id:e.suite_id||"",document_link:e.document_link||"",version_info:e.version_info||"",planned_start_time:e.planned_start_time||"",planned_end_time:e.planned_end_time||"",notes:e.notes||"",priority:e.priority,device_ids:e.device_ids,case_ids:e.case_ids,environment:e.environment,concurrency:e.concurrency,timeout:e.timeout,retry_count:e.retry_count,notification_types:e.notification_types||[]})})(e),disabled:"running"===e.status},{default:ce(()=>[...c[45]||(c[45]=[Xe(" 编辑 ",-1)])]),_:1},8,["onClick","disabled"]),te(p,{type:"danger",size:"small",onClick:t=>(e=>{Je.confirm(`确定要删除测试任务 "${e.name}" 吗？此操作不可恢复。`,"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{const t=await _(e.id);t.success?(We.success("删除成功"),je(),ut()):We.error(t.message||"删除失败")}catch(t){console.error("删除测试任务失败:",t),We.error("删除失败")}})})(e),disabled:"running"===e.status},{default:ce(()=>[...c[46]||(c[46]=[Xe(" 删除 ",-1)])]),_:1},8,["onClick","disabled"])]),_:1})]),_:1},8,["data"])),[[Yt,U.value]]),le.value.length>0?(I(),R("div",va,[q("span",null,"已选择 "+X(le.value.length)+" 项",1),te(p,{type:"success",onClick:yt},{default:ce(()=>[...c[47]||(c[47]=[Xe(" 批量启动 ",-1)])]),_:1}),te(p,{type:"warning",onClick:_t},{default:ce(()=>[...c[48]||(c[48]=[Xe(" 批量停止 ",-1)])]),_:1}),te(p,{type:"danger",onClick:bt},{default:ce(()=>[...c[49]||(c[49]=[Xe(" 批量删除 ",-1)])]),_:1})])):ee("",!0),q("div",ma,[te(He,{"current-page":"pagination.page","page-size":"pagination.size",total:Be.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Nt,onCurrentChange:xt},null,8,["total"])])]),te(zt,{modelValue:Y.value,"onUpdate:modelValue":c[22]||(c[22]=e=>Y.value=e),title:W.value,width:"900px","close-on-click-modal":!1},{footer:ce(()=>[q("span",ga,[te(p,{onClick:c[21]||(c[21]=e=>Y.value=!1)},{default:ce(()=>[...c[56]||(c[56]=[Xe("取消",-1)])]),_:1}),te(p,{type:"primary",loading:O.value,onClick:kt},{default:ce(()=>[...c[57]||(c[57]=[Xe(" 确定 ",-1)])]),_:1},8,["loading"])])]),default:ce(()=>[te(G,{ref_key:"taskFormRef",ref:J,model:xe,rules:we,"label-width":"100px"},{default:ce(()=>[te(b,{label:"任务名称",prop:"name"},{default:ce(()=>[te(v,{modelValue:xe.name,"onUpdate:modelValue":c[5]||(c[5]=e=>xe.name=e),placeholder:"请输入任务名称"},null,8,["modelValue"])]),_:1}),te(b,{label:"测试套件",prop:"suite_id"},{default:ce(()=>[te(x,{modelValue:xe.suite_id,"onUpdate:modelValue":c[6]||(c[6]=e=>xe.suite_id=e),placeholder:"请选择测试套件",style:{width:"100%"}},{default:ce(()=>[(I(!0),R(Ie,null,Re($e.value,e=>(I(),ie(k,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),te(b,{label:"任务描述",prop:"description"},{default:ce(()=>[te(v,{modelValue:xe.description,"onUpdate:modelValue":c[7]||(c[7]=e=>xe.description=e),type:"textarea",rows:3,placeholder:"请输入任务描述"},null,8,["modelValue"])]),_:1}),te(b,{label:"文档链接",prop:"document_link"},{default:ce(()=>[te(v,{modelValue:xe.document_link,"onUpdate:modelValue":c[8]||(c[8]=e=>xe.document_link=e),placeholder:"请输入相关文档链接"},null,8,["modelValue"])]),_:1}),te(b,{label:"版本信息",prop:"version_info"},{default:ce(()=>[te(v,{modelValue:xe.version_info,"onUpdate:modelValue":c[9]||(c[9]=e=>xe.version_info=e),placeholder:"请输入版本信息"},null,8,["modelValue"])]),_:1}),te(b,{label:"计划开始时间",prop:"planned_start_time"},{default:ce(()=>[te(M,{modelValue:xe.planned_start_time,"onUpdate:modelValue":c[10]||(c[10]=e=>xe.planned_start_time=e),type:"datetime",placeholder:"选择日期时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),te(b,{label:"计划结束时间",prop:"planned_end_time"},{default:ce(()=>[te(M,{modelValue:xe.planned_end_time,"onUpdate:modelValue":c[11]||(c[11]=e=>xe.planned_end_time=e),type:"datetime",placeholder:"选择日期时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),te(b,{label:"备注",prop:"notes"},{default:ce(()=>[te(v,{modelValue:xe.notes,"onUpdate:modelValue":c[12]||(c[12]=e=>xe.notes=e),type:"textarea",rows:2,placeholder:"请输入备注信息"},null,8,["modelValue"])]),_:1}),te(b,{label:"优先级",prop:"priority"},{default:ce(()=>[te(ct,{modelValue:xe.priority,"onUpdate:modelValue":c[13]||(c[13]=e=>xe.priority=e)},{default:ce(()=>[te(it,{label:"high"},{default:ce(()=>[...c[50]||(c[50]=[Xe("高",-1)])]),_:1}),te(it,{label:"medium"},{default:ce(()=>[...c[51]||(c[51]=[Xe("中",-1)])]),_:1}),te(it,{label:"low"},{default:ce(()=>[...c[52]||(c[52]=[Xe("低",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),te(b,{label:"选择设备",prop:"device_ids"},{default:ce(()=>[te(x,{modelValue:xe.device_ids,"onUpdate:modelValue":c[14]||(c[14]=e=>xe.device_ids=e),placeholder:"请选择设备",multiple:"",style:{width:"100%"}},{default:ce(()=>[(I(!0),R(Ie,null,Re(De.value,e=>(I(),ie(k,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),te(b,{label:"测试用例",prop:"case_ids"},{default:ce(()=>[te(x,{modelValue:xe.case_ids,"onUpdate:modelValue":c[15]||(c[15]=e=>xe.case_ids=e),placeholder:"请选择测试用例",multiple:"",style:{width:"100%"}},{default:ce(()=>[(I(!0),R(Ie,null,Re(Ve.value,e=>(I(),ie(k,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),te(b,{label:"执行环境",prop:"environment"},{default:ce(()=>[te(x,{modelValue:xe.environment,"onUpdate:modelValue":c[16]||(c[16]=e=>xe.environment=e),placeholder:"请选择执行环境"},{default:ce(()=>[te(k,{label:"开发环境",value:"development"}),te(k,{label:"测试环境",value:"testing"}),te(k,{label:"预生产环境",value:"staging"}),te(k,{label:"生产环境",value:"production"})]),_:1},8,["modelValue"])]),_:1}),te(b,{label:"执行配置"},{default:ce(()=>[te(f,{gutter:20},{default:ce(()=>[te(h,{span:12},{default:ce(()=>[te(b,{label:"并发数",prop:"concurrency"},{default:ce(()=>[te(Ct,{modelValue:xe.concurrency,"onUpdate:modelValue":c[17]||(c[17]=e=>xe.concurrency=e),min:1,max:10,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),te(h,{span:12},{default:ce(()=>[te(b,{label:"超时时间(秒)",prop:"timeout"},{default:ce(()=>[te(Ct,{modelValue:xe.timeout,"onUpdate:modelValue":c[18]||(c[18]=e=>xe.timeout=e),min:60,max:3600,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),te(b,{label:"失败重试",prop:"retry_count"},{default:ce(()=>[te(Ct,{modelValue:xe.retry_count,"onUpdate:modelValue":c[19]||(c[19]=e=>xe.retry_count=e),min:0,max:5,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),te(b,{label:"通知设置"},{default:ce(()=>[te(Tt,{modelValue:xe.notification_types,"onUpdate:modelValue":c[20]||(c[20]=e=>xe.notification_types=e)},{default:ce(()=>[te(jt,{label:"email"},{default:ce(()=>[...c[53]||(c[53]=[Xe("邮件通知",-1)])]),_:1}),te(jt,{label:"webhook"},{default:ce(()=>[...c[54]||(c[54]=[Xe("Webhook通知",-1)])]),_:1}),te(jt,{label:"sms"},{default:ce(()=>[...c[55]||(c[55]=[Xe("短信通知",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),te(zt,{modelValue:H.value,"onUpdate:modelValue":c[31]||(c[31]=e=>H.value=e),title:"任务详情",width:"1000px"},{default:ce(()=>[ae.value?(I(),R("div",ya,[te(Ft,{modelValue:se.value,"onUpdate:modelValue":c[30]||(c[30]=e=>se.value=e)},{default:ce(()=>[te(Mt,{label:"基本信息",name:"basic"},{default:ce(()=>[te(Lt,{column:2,border:""},{default:ce(()=>[te(At,{label:"任务ID"},{default:ce(()=>[Xe(X(ae.value.id),1)]),_:1}),te(At,{label:"任务名称"},{default:ce(()=>[Xe(X(ae.value.name),1)]),_:1}),te(At,{label:"测试套件"},{default:ce(()=>[Xe(X(Te(ae.value.suite_id)),1)]),_:1}),te(At,{label:"文档链接"},{default:ce(()=>[ae.value.document_link?(I(),R("a",{key:0,href:ae.value.document_link,target:"_blank"},X(ae.value.document_link),9,_a)):(I(),R("span",ba,"-"))]),_:1}),te(At,{label:"版本信息"},{default:ce(()=>[Xe(X(ae.value.version_info||"-"),1)]),_:1}),te(At,{label:"计划时间"},{default:ce(()=>[Xe(X(ze(ae.value.planned_start_time,ae.value.planned_end_time)),1)]),_:1}),te(At,{label:"备注",span:2},{default:ce(()=>[Xe(X(ae.value.notes||"-"),1)]),_:1}),te(At,{label:"状态"},{default:ce(()=>[te(de,{type:Vt(ae.value.status)},{default:ce(()=>[Xe(X(Dt(ae.value.status)),1)]),_:1},8,["type"])]),_:1}),te(At,{label:"优先级"},{default:ce(()=>[te(de,{type:St(ae.value.priority)},{default:ce(()=>[Xe(X(Kt(ae.value.priority)),1)]),_:1},8,["type"])]),_:1}),te(At,{label:"进度"},{default:ce(()=>[te(pe,{percentage:ae.value.progress,status:$t(ae.value.status)},null,8,["percentage","status"])]),_:1}),te(At,{label:"执行环境"},{default:ce(()=>[Xe(X(ae.value.environment),1)]),_:1}),te(At,{label:"创建者"},{default:ce(()=>[Xe(X(ae.value.creator),1)]),_:1}),te(At,{label:"创建时间"},{default:ce(()=>[Xe(X(Bt(ae.value.created_at)),1)]),_:1}),te(At,{label:"开始时间"},{default:ce(()=>[Xe(X(Bt(ae.value.started_at)),1)]),_:1}),te(At,{label:"结束时间"},{default:ce(()=>[Xe(X(Bt(ae.value.ended_at)),1)]),_:1}),te(At,{label:"设备数量"},{default:ce(()=>[Xe(X(ae.value.device_count),1)]),_:1}),te(At,{label:"用例数量"},{default:ce(()=>[Xe(X(ae.value.case_count),1)]),_:1}),te(At,{label:"通过数量"},{default:ce(()=>[Xe(X(ae.value.passed_count),1)]),_:1}),te(At,{label:"失败数量"},{default:ce(()=>[Xe(X(ae.value.failed_count),1)]),_:1}),te(At,{label:"阻塞数量"},{default:ce(()=>[Xe(X(ae.value.blocked_count||0),1)]),_:1}),te(At,{label:"不适用数量"},{default:ce(()=>[Xe(X(ae.value.not_applicable_count||0),1)]),_:1}),te(At,{label:"描述",span:2},{default:ce(()=>[Xe(X(ae.value.description||"-"),1)]),_:1})]),_:1})]),_:1}),te(Mt,{label:"执行日志",name:"logs"},{default:ce(()=>[q("div",ka,[te(Ot,null,{default:ce(()=>[(I(!0),R(Ie,null,Re(Ke.value,e=>{return I(),ie(Ut,{key:e.id,timestamp:Bt(e.created_at),type:(t=e.level,{error:"danger",warning:"warning",info:"primary",debug:"info"}[t]||"info")},{default:ce(()=>[q("div",Ca,[q("strong",null,X(e.level.toUpperCase()),1),q("p",null,X(e.message),1)])]),_:2},1032,["timestamp","type"]);var t}),128))]),_:1})])]),_:1}),te(Mt,{label:"执行结果",name:"results"},{default:ce(()=>[q("div",Na,[te(Ce,{data:Se.value,stripe:"",border:""},{default:ce(()=>[te(ne,{prop:"device_name",label:"设备名称"}),te(ne,{prop:"case_name",label:"用例名称"}),te(ne,{prop:"status",label:"状态"},{default:ce(({row:e})=>[te(de,{type:Vt(e.status)},{default:ce(()=>[Xe(X(Dt(e.status)),1)]),_:2},1032,["type"])]),_:1}),te(ne,{prop:"duration",label:"执行时长"}),te(ne,{prop:"error_message",label:"错误信息","show-overflow-tooltip":""}),te(ne,{label:"操作"},{default:ce(({row:e})=>[te(p,{type:"primary",size:"small",onClick:e=>{We.info("查看结果详情功能开发中...")}},{default:ce(()=>[...c[58]||(c[58]=[Xe(" 查看详情 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])])]),_:1}),te(Mt,{label:"思维导图视图",name:"mindmap",onTabClick:Le},{default:ce(()=>[q("div",xa,[q("div",wa,[te(Tt,{modelValue:ge.value,"onUpdate:modelValue":c[23]||(c[23]=e=>ge.value=e),onChange:Ae},{default:ce(()=>[te(jt,{label:"passed"},{default:ce(()=>[...c[59]||(c[59]=[Xe("通过",-1)])]),_:1}),te(jt,{label:"failed"},{default:ce(()=>[...c[60]||(c[60]=[Xe("失败",-1)])]),_:1}),te(jt,{label:"blocked"},{default:ce(()=>[...c[61]||(c[61]=[Xe("阻塞",-1)])]),_:1}),te(jt,{label:"not_applicable"},{default:ce(()=>[...c[62]||(c[62]=[Xe("不适用",-1)])]),_:1})]),_:1},8,["modelValue"]),te(p,{type:"primary",size:"small",onClick:Le},{default:ce(()=>[...c[63]||(c[63]=[Xe("刷新",-1)])]),_:1}),te(p,{size:"small",onClick:Ue},{default:ce(()=>[...c[64]||(c[64]=[Xe("导出",-1)])]),_:1})]),q("div",Ea,[te(It,{shadow:"hover",class:"stat-card stat-passed"},{default:ce(()=>{var e;return[q("div",Da,X((null==(e=ye.value.passed)?void 0:e.count)||0),1),c[65]||(c[65]=q("div",{class:"stat-label"},"通过",-1))]}),_:1}),te(It,{shadow:"hover",class:"stat-card stat-failed"},{default:ce(()=>{var e;return[q("div",Va,X((null==(e=ye.value.failed)?void 0:e.count)||0),1),c[66]||(c[66]=q("div",{class:"stat-label"},"失败",-1))]}),_:1}),te(It,{shadow:"hover",class:"stat-card stat-blocked"},{default:ce(()=>{var e;return[q("div",Ka,X((null==(e=ye.value.blocked)?void 0:e.count)||0),1),c[67]||(c[67]=q("div",{class:"stat-label"},"阻塞",-1))]}),_:1}),te(It,{shadow:"hover",class:"stat-card stat-not-applicable"},{default:ce(()=>{var e;return[q("div",Sa,X((null==(e=ye.value.not_applicable)?void 0:e.count)||0),1),c[68]||(c[68]=q("div",{class:"stat-label"},"不适用",-1))]}),_:1}),te(It,{shadow:"hover",class:"stat-card stat-total"},{default:ce(()=>[q("div",$a,X(F(be)),1),c[69]||(c[69]=q("div",{class:"stat-label"},"总用例数",-1))]),_:1}),te(It,{shadow:"hover",class:"stat-card stat-pass-rate"},{default:ce(()=>[q("div",Ba,X(ye.value.pass_rate||0)+"%",1),c[70]||(c[70]=q("div",{class:"stat-label"},"通过率",-1))]),_:1})]),q("div",ja,[te(It,{shadow:"hover",class:"chart-card"},{header:ce(()=>[q("div",Ta,[c[72]||(c[72]=q("span",null,"测试结果分布",-1)),te(p,{size:"small",onClick:Ge},{default:ce(()=>[...c[71]||(c[71]=[Xe("刷新",-1)])]),_:1})])]),default:ce(()=>[q("div",za,[q("div",Aa,[(I(!0),R(Ie,null,Re(F(_e),(e,t)=>{return I(),ie(pe,{key:t,percentage:Pe(null==e?void 0:e.count),format:()=>`${null==e?void 0:e.label}: ${null==e?void 0:e.count}`,color:(a=t,{passed:"#67c23a",failed:"#f56c6c",blocked:"#e6a23c",not_applicable:"#909399"}[a]||"#409eff"),class:"progress-bar"},null,8,["percentage","format","color"]);var a}),128))])])]),_:1})]),q("div",La,[he.value?(I(),R("div",Ma,[te(u,{class:"is-loading"},{default:ce(()=>[te(F(U))]),_:1}),c[73]||(c[73]=q("span",null,"加载思维导图中...",-1))])):fe.value?(I(),R("div",Oa,[te(qt,{ref_key:"mindmapTreeRef",ref:oe,data:ve.value,props:{label:"name",children:"children"},"highlight-current":!0,"default-expand-all":!0,onNodeClick:qe,onNodeContextmenu:Fe},{default:ce(({data:e})=>{return[q("div",{class:Z(["mindmap-node",`node-status-${e.status}`])},[q("span",Ia,X(e.name),1),e.status?(I(),R("span",{key:0,class:Z(["node-status-badge",`badge-${e.status}`])},X((t=e.status,{passed:"通过",failed:"失败",blocked:"阻塞",not_applicable:"不适用"}[t]||"")),3)):ee("",!0)],2)];var t}),_:1},8,["data"]),re.value?(I(),R("div",{key:0,class:"context-menu",style:Q({left:ue.value.x+"px",top:ue.value.y+"px"}),onClick:c[29]||(c[29]=e=>re.value=!1)},[q("div",{class:"context-menu-item",onClick:c[24]||(c[24]=Oe(e=>Ye("passed"),["stop"]))},[...c[74]||(c[74]=[q("span",{class:"status-indicator passed"},null,-1),Xe("通过 ",-1)])]),q("div",{class:"context-menu-item",onClick:c[25]||(c[25]=Oe(e=>Ye("failed"),["stop"]))},[...c[75]||(c[75]=[q("span",{class:"status-indicator failed"},null,-1),Xe("失败 ",-1)])]),q("div",{class:"context-menu-item",onClick:c[26]||(c[26]=Oe(e=>Ye("blocked"),["stop"]))},[...c[76]||(c[76]=[q("span",{class:"status-indicator blocked"},null,-1),Xe("阻塞 ",-1)])]),q("div",{class:"context-menu-item",onClick:c[27]||(c[27]=Oe(e=>Ye("not_applicable"),["stop"]))},[...c[77]||(c[77]=[q("span",{class:"status-indicator not-applicable"},null,-1),Xe("不适用 ",-1)])]),q("div",{class:"context-menu-item",onClick:c[28]||(c[28]=Oe(e=>Ye(null),["stop"]))},[...c[78]||(c[78]=[q("span",{class:"status-indicator clear"},null,-1),Xe("清除状态 ",-1)])])],4)):ee("",!0)])):(I(),R("div",Ua,[te(Rt,{description:"暂无思维导图数据"})]))])])]),_:1})]),_:1},8,["modelValue"])])):ee("",!0)]),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-962f5b7e"]]);export{Ra as default};
