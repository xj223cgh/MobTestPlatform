/* empty css                  */import{E as e,a}from"./el-input-320f57dc.js";import{E as r}from"./el-link-a4b32e17.js";import{E as s}from"./el-checkbox-b9bd0a97.js";import{u as l,a as o,r as m,b as n,o as i,c as t,d,e as u,f as p,w as c,g,E as f,h as b,m as w,i as _,j as v,k as h,l as y}from"./index-ea26c5b6.js";import{_ as j}from"./_plugin-vue_export-helper-1b428a4d.js";import"./castArray-7303869c.js";import"./omit-2fc30497.js";const k={class:"login-container"},V={class:"login-card"},x={class:"login-header"},C={class:"logo-placeholder"},z={class:"login-options"},E={class:"register-link"},R=j({__name:"Login",setup(j){const R=l(),U=o(),q=m(null),A=m(!1),L=n({username:"",password:"",remember:!1}),F=()=>{L.remember?L.username&&L.password&&U.updateRememberedCredentials(L.username,L.password,!0):U.clearRememberedCredentials()};i(()=>{const e=U.getRememberedCredentials();e&&(L.username=e.username,L.password=e.password,L.remember=e.remember)});const I={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于 6 个字符",trigger:"blur"}]},K=async()=>{if(q.value)try{await q.value.validate(),A.value=!0;await U.login({username:L.username,password:L.password,remember:L.remember})&&R.push("/home")}catch(e){console.error("登录失败:",e)}finally{A.value=!1}},M=()=>{R.push("/register")},P=()=>{R.push("/forgot-password")};return(l,o)=>{const m=f,n=h,i=a,j=s,R=r,U=y,S=e;return t(),d("div",k,[u("div",V,[u("div",x,[u("div",C,[p(m,{size:"80",color:"#667eea"},{default:c(()=>[p(b(w))]),_:1})]),o[3]||(o[3]=u("h1",null,"移动测试平台",-1)),o[4]||(o[4]=u("p",null,"Mobile Test Platform",-1))]),p(S,{ref_key:"loginFormRef",ref:q,model:L,rules:I,class:"login-form",onSubmit:g(K,["prevent"])},{default:c(()=>[p(i,{prop:"username"},{default:c(()=>[p(n,{modelValue:L.username,"onUpdate:modelValue":o[0]||(o[0]=e=>L.username=e),placeholder:"请输入用户名",size:"large","prefix-icon":"User",clearable:""},null,8,["modelValue"])]),_:1}),p(i,{prop:"password"},{default:c(()=>[p(n,{modelValue:L.password,"onUpdate:modelValue":o[1]||(o[1]=e=>L.password=e),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":"",clearable:"",onKeyup:_(K,["enter"])},null,8,["modelValue"])]),_:1}),p(i,null,{default:c(()=>[u("div",z,[p(j,{modelValue:L.remember,"onUpdate:modelValue":o[2]||(o[2]=e=>L.remember=e),onChange:F},{default:c(()=>[...o[5]||(o[5]=[v("记住用户名密码",-1)])]),_:1},8,["modelValue"]),p(R,{type:"primary",onClick:P},{default:c(()=>[...o[6]||(o[6]=[v("忘记密码？",-1)])]),_:1})])]),_:1}),p(i,null,{default:c(()=>[p(U,{type:"primary",size:"large",loading:A.value,class:"login-btn",onClick:K},{default:c(()=>[...o[7]||(o[7]=[v(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1}),u("div",E,[p(R,{type:"primary",onClick:M},{default:c(()=>[...o[8]||(o[8]=[v("还没有账号？立即注册",-1)])]),_:1})])]),_:1},8,["model"])]),o[9]||(o[9]=u("div",{class:"login-footer"},[u("p",null,"© 2025 移动测试平台. All rights reserved.")],-1))])}}},[["__scopeId","data-v-6b241d31"]]);export{R as default};
