/* empty css                  */import{E as e,a}from"./el-input-320f57dc.js";import{E as s}from"./el-link-a4b32e17.js";import{u as l,r,b as o,c as t,d as i,e as u,f as d,w as n,g as p,j as m,h as c,q as f,s as g,n as v,k as _,l as y,E as b}from"./index-ea26c5b6.js";import{_ as h}from"./_plugin-vue_export-helper-1b428a4d.js";import"./castArray-7303869c.js";const w={class:"forgot-password-container"},j={class:"forgot-password-card"},k={class:"back-link"},x=h({__name:"ForgotPassword",setup(h){const x=l(),E=r(null),V=r(!1),q=o({email:""}),z={email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入有效的邮箱地址",trigger:"blur"}]},A=async()=>{var e,a;if(E.value)try{await E.value.validate(),V.value=!0;const e=await g({email:q.email});e.success?(v.success("重置密码链接已发送到您的邮箱，请查收"),setTimeout(()=>{x.push("/login")},2e3)):v.error(e.message||"发送失败")}catch(s){console.error("发送重置链接失败:",s),v.error((null==(a=null==(e=s.response)?void 0:e.data)?void 0:a.message)||"发送失败")}finally{V.value=!1}},C=()=>{x.push("/login")};return(l,r)=>{const o=_,g=a,v=y,h=b,x=s,F=e;return t(),i("div",w,[u("div",j,[r[3]||(r[3]=u("div",{class:"forgot-password-header"},[u("div",{class:"logo-text"},"MobTest"),u("h1",null,"忘记密码"),u("p",null,"请输入您的邮箱地址，我们将发送重置密码链接")],-1)),d(F,{ref_key:"forgotFormRef",ref:E,model:q,rules:z,class:"forgot-password-form",onSubmit:p(A,["prevent"])},{default:n(()=>[d(g,{prop:"email"},{default:n(()=>[d(o,{modelValue:q.email,"onUpdate:modelValue":r[0]||(r[0]=e=>q.email=e),placeholder:"请输入邮箱地址",size:"large","prefix-icon":"Message",clearable:""},null,8,["modelValue"])]),_:1}),d(g,null,{default:n(()=>[d(v,{type:"primary",size:"large",loading:V.value,class:"forgot-btn",onClick:A},{default:n(()=>[...r[1]||(r[1]=[m(" 发送重置链接 ",-1)])]),_:1},8,["loading"])]),_:1}),u("div",k,[d(x,{type:"primary",onClick:C},{default:n(()=>[d(h,null,{default:n(()=>[d(c(f))]),_:1}),r[2]||(r[2]=m(" 返回登录 ",-1))]),_:1})])]),_:1},8,["model"])]),r[4]||(r[4]=u("div",{class:"forgot-password-footer"},[u("p",null,"© 2024 移动端测试平台. All rights reserved.")],-1))])}}},[["__scopeId","data-v-9286e0df"]]);export{x as default};
