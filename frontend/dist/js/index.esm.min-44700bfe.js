import{f as e,t}from"./install-1118e355.js";import{z as n,aP as r,I as i,aU as s,W as o,H as a,a1 as _,ad as l,o as u,a2 as c,a3 as d,a9 as f,aV as v,h}from"./index-cd351671.js";var p=null;var g=null;function m(e,t){void 0===t&&(t={});var n=document.createElement(e);return Object.keys(t).forEach(function(e){n[e]=t[e]}),n}function z(e,t,n){return(window.getComputedStyle(e,n||null)||{display:"none"})[t]}function b(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if("none"===z(t,"display"))return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var w=0,y=null;function O(e,t){var n,r;if(e.__resize_mutation_handler__||(e.__resize_mutation_handler__=E.bind(e)),!e.__resize_listeners__)if(e.__resize_listeners__=[],window.ResizeObserver){var i=e.offsetWidth,s=e.offsetHeight,o=new ResizeObserver(function(){(e.__resize_observer_triggered__||(e.__resize_observer_triggered__=!0,e.offsetWidth!==i||e.offsetHeight!==s))&&C(e)}),a=b(e),_=a.detached,l=a.rendered;e.__resize_observer_triggered__=!1===_&&!1===l,e.__resize_observer__=o,o.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){C(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(w||(n='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',(r=document.createElement("style")).styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n)),(document.querySelector("head")||document.body).appendChild(r),y=r),function(e){var t=z(e,"position");t&&"static"!==t||(e.style.position="relative");e.__resize_old_position__=t,e.__resize_last__={};var n=m("div",{className:"resize-triggers"}),r=m("div",{className:"resize-expand-trigger"}),i=m("div"),s=m("div",{className:"resize-contract-trigger"});r.appendChild(i),n.appendChild(r),n.appendChild(s),e.appendChild(n),e.__resize_triggers__={triggers:n,expand:r,expandChild:i,contract:s},L(e),e.addEventListener("scroll",x,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}(e),e.__resize_rendered__=b(e).rendered,window.MutationObserver){var u=new MutationObserver(e.__resize_mutation_handler__);u.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=u}e.__resize_listeners__.push(t),w++}function E(){var e=b(this),t=e.rendered,n=e.detached;t!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(L(this),this.addEventListener("scroll",x,!0)),this.__resize_rendered__=t,C(this))}function x(){var e,t,n=this;L(this),this.__resize_raf__&&(e=this.__resize_raf__,g||(g=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window)),g(e)),this.__resize_raf__=(t=function(){var e,t,r,i,s,o,a=(t=(e=n).__resize_last__,r=t.width,i=t.height,s=e.offsetWidth,o=e.offsetHeight,s!==r||o!==i?{width:s,height:o}:null);a&&(n.__resize_last__=a,C(n))},p||(p=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)}).bind(window)),p(t))}function C(e){e&&e.__resize_listeners__&&e.__resize_listeners__.forEach(function(t){t.call(e,e)})}function L(e){var t=e.__resize_triggers__,n=t.expand,r=t.expandChild,i=t.contract,s=i.scrollWidth,o=i.scrollHeight,a=n.offsetWidth,_=n.offsetHeight,l=n.scrollWidth,u=n.scrollHeight;i.scrollLeft=s,i.scrollTop=o,r.style.width=a+1+"px",r.style.height=_+1+"px",n.scrollLeft=l,n.scrollTop=u}var j=function(){return j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},j.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var A=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];var T={autoresize:[Boolean,Object]},S=/^on[^a-z]/,H=function(e){return S.test(e)};function k(e,t){var n=v(e)?h(e):e;return n&&"object"==typeof n&&"value"in n?n.value||t:n||t}var D={loading:Boolean,loadingOptions:Object},M=null,W="x-vue-echarts",F=[],N=[];!function(e,t){if(e&&"undefined"!=typeof document){var n,r=!0===t.prepend?"prepend":"append",i=!0===t.singleTag,s="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(i){var o=F.indexOf(s);-1===o&&(o=F.push(s)-1,N[o]={}),n=N[o]&&N[o][r]?N[o][r]:N[o][r]=a()}else n=a();65279===e.charCodeAt(0)&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function a(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var n=Object.keys(t.attributes),i=0;i<n.length;i++)e.setAttribute(n[i],t.attributes[n[i]]);var o="prepend"===r?"afterbegin":"beforeend";return s.insertAdjacentElement(o,e),e}}("x-vue-echarts{display:flex;flex-direction:column;width:100%;height:100%;min-width:0}\n.vue-echarts-inner{flex-grow:1;min-width:0;width:auto!important;height:auto!important}\n",{});var U=function(){if(null!=M)return M;if("undefined"==typeof HTMLElement||"undefined"==typeof customElements)return M=!1;try{new Function("tag","class EChartsElement extends HTMLElement {\n  __dispose = null;\n\n  disconnectedCallback() {\n    if (this.__dispose) {\n      this.__dispose();\n      this.__dispose = null;\n    }\n  }\n}\n\nif (customElements.get(tag) == null) {\n  customElements.define(tag, EChartsElement);\n}\n")(W)}catch(e){return M=!1}return M=!0}(),R=/(^&?~?!?)native:/,q=n({name:"echarts",props:j(j({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},T),D),emits:{},inheritAttrs:!1,setup:function(n,d){var v=d.attrs,h=r(),p=r(),g=r(),m=r(),z=i("ecTheme",null),b=i("ecInitOptions",null),E=i("ecUpdateOptions",null),C=s(n),L=C.autoresize,T=C.manualUpdate,S=C.loading,D=C.loadingOptions,M=o(function(){return m.value||n.option||null}),W=o(function(){return n.theme||k(z,{})}),F=o(function(){return n.initOptions||k(b,{})}),N=o(function(){return n.updateOptions||k(E,{})}),q=o(function(){return function(e){var t={};for(var n in e)H(n)||(t[n]=e[n]);return t}(v)}),P={},B=a().proxy.$listeners,I={};function $(t){if(p.value){var r=g.value=e(p.value,W.value,F.value);n.group&&(r.group=n.group),Object.keys(I).forEach(function(e){var t=I[e];if(t){var n=e.toLowerCase();"~"===n.charAt(0)&&(n=n.substring(1),t.__once__=!0);var i=r;if(0===n.indexOf("zr:")&&(i=r.getZr(),n=n.substring(3)),t.__once__){delete t.__once__;var s=t;t=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];s.apply(void 0,e),i.off(n,t)}}i.on(n,t)}}),L.value?f(function(){r&&!r.isDisposed()&&r.resize(),i()}):i()}function i(){var e=t||M.value;e&&r.setOption(e,N.value)}}function G(){g.value&&(g.value.dispose(),g.value=void 0)}B?Object.keys(B).forEach(function(e){R.test(e)?P[e.replace(R,"$1")]=B[e]:I[e]=B[e]}):Object.keys(v).filter(function(e){return H(e)}).forEach(function(e){var t=e.charAt(2).toLowerCase()+e.slice(3);if(0!==t.indexOf("native:"))"Once"===t.substring(t.length-4)&&(t="~".concat(t.substring(0,t.length-4))),I[t]=v[e];else{var n="on".concat(t.charAt(7).toUpperCase()).concat(t.slice(8));P[n]=v[e]}});var V=null;_(T,function(e){"function"==typeof V&&(V(),V=null),e||(V=_(function(){return n.option},function(e,t){e&&(g.value?g.value.setOption(e,j({notMerge:e!==t},N.value)):$())},{deep:!0}))},{immediate:!0}),_([W,F],function(){G(),$()},{deep:!0}),l(function(){n.group&&g.value&&(g.value.group=n.group)});var Z,J,K,Q,X,Y=function(e){return t=Object.create(null),A.forEach(function(n){var r;t[n]=(r=n,function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[r].apply(e.value,t)})}),t;var t}(g);return Z=g,J=S,K=D,Q=i("ecLoadingOptions",{}),X=o(function(){return j(j({},k(Q,{})),null==K?void 0:K.value)}),l(function(){var e=Z.value;e&&(J.value?e.showLoading(X.value):e.hideLoading())}),function(e,n,r){var i=null;_([r,e,n],function(e,n,r){var s=e[0],o=e[1],a=e[2];if(s&&o&&a){var _=!0===a?{}:a,l=_.throttle,u=void 0===l?100:l,c=_.onResize,d=function(){o.resize(),null==c||c()};i=u?t(d,u):d,O(s,i)}r(function(){s&&i&&function(e,t){var n=e.__resize_listeners__;if(n){if(t&&n.splice(n.indexOf(t),1),!n.length||!t){if(e.detachEvent&&e.removeEventListener)return e.detachEvent("onresize",e.__resize_legacy_resize_handler__),void document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",x),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}! --w&&y&&y.parentNode.removeChild(y)}}(s,i)})})}(g,L,p),u(function(){$()}),c(function(){U&&h.value?h.value.__dispose=G:G()}),j({chart:g,root:h,inner:p,setOption:function(e,t){n.manualUpdate&&(m.value=e),g.value?g.value.setOption(e,t||{}):$(e)},nonEventAttrs:q,nativeListeners:P},Y)},render:function(){var e=j(j({},this.nonEventAttrs),this.nativeListeners);return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",d(W,e,[d("div",{ref:"inner",class:"vue-echarts-inner"})])}});export{q as H};
