import{x as e,y as l,z as o,A as a,I as s,cN as t,W as n,cO as r,c as i,d,e as u,D as c,F as f,h as v,L as p,f as y,w as g,J as b,K as C,E as m,aq as h,aU as w,_ as A,cP as k,G as B,aK as S,aA as I,H as x,bn as F,b1 as R,r as _,ay as $,cQ as D,aS as P,ag as E,al as L,bq as z,a1 as M,a9 as T,o as O,aj as j,b6 as q,a8 as N,bz as V,bV as K,az as U,B as G,C as H,T as J,R as Q,a5 as W,cR as Z,br as X,bg as Y,a6 as ee,cS as le,M as oe}from"./index-ea26c5b6.js";import{t as ae,a as se}from"./el-scrollbar-68fecf97.js";import{c as te}from"./refs-9112775b.js";const ne=Symbol("dialogInjectionKey"),re="dialog-fade",ie=e({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:l},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),de=o({name:"ElDialogContent"});var ue=A(o({...de,props:ie,emits:{close:()=>!0},setup(e,{expose:l}){const o=e,{t:A}=a(),{Close:B}=k,{dialogRef:S,headerRef:I,bodyId:x,ns:F,style:R}=s(ne),{focusTrapRef:_}=s(t),$=te(_,S),D=n(()=>!!o.draggable),P=n(()=>!!o.overflow),{resetPosition:E,updatePosition:L,isDragging:z}=r(S,I,D,P),M=n(()=>[F.b(),F.is("fullscreen",o.fullscreen),F.is("draggable",D.value),F.is("dragging",z.value),F.is("align-center",!!o.alignCenter),{[F.m("center")]:o.center}]);return l({resetPosition:E,updatePosition:L}),(e,l)=>(i(),d("div",{ref:v($),class:f(v(M)),style:w(v(R)),tabindex:"-1"},[u("header",{ref_key:"headerRef",ref:I,class:f([v(F).e("header"),e.headerClass,{"show-close":e.showClose}])},[c(e.$slots,"header",{},()=>[u("span",{role:"heading","aria-level":e.ariaLevel,class:f(v(F).e("title"))},p(e.title),11,["aria-level"])]),e.showClose?(i(),d("button",{key:0,"aria-label":v(A)("el.dialog.close"),class:f(v(F).e("headerbtn")),type:"button",onClick:l=>e.$emit("close")},[y(v(m),{class:f(v(F).e("close"))},{default:g(()=>[(i(),b(C(e.closeIcon||v(B))))]),_:1},8,["class"])],10,["aria-label","onClick"])):h("v-if",!0)],2),u("div",{id:v(x),class:f([v(F).e("body"),e.bodyClass])},[c(e.$slots,"default")],10,["id"]),e.$slots.footer?(i(),d("footer",{key:0,class:f([v(F).e("footer"),e.footerClass])},[c(e.$slots,"footer")],2)):h("v-if",!0)],6))}}),[["__file","dialog-content.vue"]]);const ce=e({...ie,appendToBody:Boolean,appendTo:{type:ae.to.type,default:"body"},beforeClose:{type:B(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:B([String,Object]),default:void 0}}),fe={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[S]:e=>I(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ve=o({name:"ElDialog",inheritAttrs:!1});const pe=oe(A(o({...ve,props:ce,emits:fe,setup(e,{expose:l}){const o=e,a=K();U({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},n(()=>!!a.title));const s=G("dialog"),t=_(),r=_(),d=_(),{visible:p,titleId:C,bodyId:m,style:A,overlayDialogStyle:k,rendered:B,transitionConfig:I,zIndex:oe,_draggable:ae,_alignCenter:te,_overflow:ie,handleClose:de,onModalClick:ce,onOpenAutoFocus:fe,onCloseAutoFocus:ve,onCloseRequested:pe,onFocusoutPrevented:ye}=((e,l)=>{var o;const a=x().emit,{nextZIndex:s}=F();let t="";const r=R(),i=R(),d=_(!1),u=_(!1),c=_(!1),f=_(null!=(o=e.zIndex)?o:s());let v,p;const y=$(),g=n(()=>{var e,l;return null!=(l=null==(e=y.value)?void 0:e.namespace)?l:D}),b=n(()=>{var e;return null==(e=y.value)?void 0:e.dialog}),C=n(()=>{const l={},o=`--${g.value}-dialog`;return e.fullscreen||(e.top&&(l[`${o}-margin-top`]=e.top),e.width&&(l[`${o}-width`]=P(e.width))),l}),m=n(()=>{var l,o,a;return null!=(a=null!=(o=e.draggable)?o:null==(l=b.value)?void 0:l.draggable)&&a&&!e.fullscreen}),h=n(()=>{var l,o,a;return null!=(a=null!=(o=e.alignCenter)?o:null==(l=b.value)?void 0:l.alignCenter)&&a}),w=n(()=>{var l,o,a;return null!=(a=null!=(o=e.overflow)?o:null==(l=b.value)?void 0:l.overflow)&&a}),A=n(()=>h.value?{display:"flex"}:{}),k=n(()=>{var l,o,a;const s=null!=(a=null!=(o=e.transition)?o:null==(l=b.value)?void 0:l.transition)?a:re,t={name:s,onAfterEnter:B,onBeforeLeave:K,onAfterLeave:I};if(E(s)){const e={...s},l=(e,l)=>o=>{j(e)?e.forEach(e=>{q(e)&&e(o)}):q(e)&&e(o),l()};return e.onAfterEnter=l(e.onAfterEnter,B),e.onBeforeLeave=l(e.onBeforeLeave,K),e.onAfterLeave=l(e.onAfterLeave,I),e.name||(e.name=re,L("ElDialog",`transition.name is missing when using object syntax, fallback to '${re}'`)),e}return t});function B(){a("opened")}function I(){a("closed"),a(S,!1),e.destroyOnClose&&(c.value=!1)}function K(){a("close")}function U(){null==p||p(),null==v||v(),e.openDelay&&e.openDelay>0?({stop:v}=N(()=>J(),e.openDelay)):J()}function G(){null==v||v(),null==p||p(),e.closeDelay&&e.closeDelay>0?({stop:p}=N(()=>Q(),e.closeDelay)):Q()}function H(){e.beforeClose?e.beforeClose(function(e){e||(u.value=!0,d.value=!1)}):G()}function J(){V&&(d.value=!0)}function Q(){d.value=!1}return e.lockScroll&&z(d),M(()=>e.zIndex,()=>{var l;f.value=null!=(l=e.zIndex)?l:s()}),M(()=>e.modelValue,o=>{var t;o?(u.value=!1,U(),c.value=!0,f.value=null!=(t=e.zIndex)?t:s(),T(()=>{a("open"),l.value&&(l.value.parentElement.scrollTop=0,l.value.parentElement.scrollLeft=0,l.value.scrollTop=0)})):d.value&&G()}),M(()=>e.fullscreen,e=>{l.value&&(e?(t=l.value.style.transform,l.value.style.transform=""):l.value.style.transform=t)}),O(()=>{e.modelValue&&(d.value=!0,c.value=!0,U())}),{afterEnter:B,afterLeave:I,beforeLeave:K,handleClose:H,onModalClick:function(){e.closeOnClickModal&&H()},close:G,doClose:Q,onOpenAutoFocus:function(){a("openAutoFocus")},onCloseAutoFocus:function(){a("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&H()},onFocusoutPrevented:function(e){var l;"pointer"===(null==(l=e.detail)?void 0:l.focusReason)&&e.preventDefault()},titleId:r,bodyId:i,closed:u,style:C,overlayDialogStyle:A,rendered:c,visible:d,zIndex:f,transitionConfig:k,_draggable:m,_alignCenter:h,_overflow:w}})(o,t);H(ne,{dialogRef:t,headerRef:r,bodyId:m,ns:s,rendered:B,style:A});const ge=le(ce),be=n(()=>o.modalPenetrable&&!o.modal&&!o.fullscreen);return l({visible:p,dialogContentRef:d,resetPosition:()=>{var e;null==(e=d.value)||e.resetPosition()},handleClose:de}),(e,l)=>(i(),b(v(se),{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},{default:g(()=>[y(J,Q(v(I),{persisted:""}),{default:g(()=>{var l;return[W(y(v(Z),{"custom-mask-event":"",mask:e.modal,"overlay-class":[null!=(l=e.modalClass)?l:"",`${v(s).namespace.value}-modal-dialog`,v(s).is("penetrable",v(be))],"z-index":v(oe)},{default:g(()=>[u("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:v(C),"aria-describedby":v(m),class:f(`${v(s).namespace.value}-overlay-dialog`),style:w(v(k)),onClick:v(ge).onClick,onMousedown:v(ge).onMousedown,onMouseup:v(ge).onMouseup},[y(v(X),{loop:"",trapped:v(p),"focus-start-el":"container",onFocusAfterTrapped:v(fe),onFocusAfterReleased:v(ve),onFocusoutPrevented:v(ye),onReleaseRequested:v(pe)},{default:g(()=>[v(B)?(i(),b(ue,Q({key:0,ref_key:"dialogContentRef",ref:d},e.$attrs,{center:e.center,"align-center":v(te),"close-icon":e.closeIcon,draggable:v(ae),overflow:v(ie),fullscreen:e.fullscreen,"header-class":e.headerClass,"body-class":e.bodyClass,"footer-class":e.footerClass,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:v(de)}),Y({header:g(()=>[e.$slots.title?c(e.$slots,"title",{key:1}):c(e.$slots,"header",{key:0,close:v(de),titleId:v(C),titleClass:v(s).e("title")})]),default:g(()=>[c(e.$slots,"default")]),_:2},[e.$slots.footer?{name:"footer",fn:g(()=>[c(e.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):h("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[ee,v(p)]])]}),_:3},16)]),_:3},8,["to","disabled"]))}}),[["__file","dialog.vue"]]));export{pe as E};
